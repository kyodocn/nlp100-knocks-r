<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>係り受け解析</title>
  <meta name="description" content="Rで言語処理100本ノック 2020 (Rev 1) に取り組んでいます。Rでやっているコードの例を示すにとどまるもので、丁寧な解説を添えているようなものではありません" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="係り受け解析" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://paithiov909.github.io/nlp100-knocks-r" />
  <meta property="og:image" content="https://paithiov909.github.io/nlp100-knocks-rimages/coverimage.jpg" />
  <meta property="og:description" content="Rで言語処理100本ノック 2020 (Rev 1) に取り組んでいます。Rでやっているコードの例を示すにとどまるもので、丁寧な解説を添えているようなものではありません" />
  <meta name="github-repo" content="paithiov909/nlp100-knocks-r" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="係り受け解析" />
  
  <meta name="twitter:description" content="Rで言語処理100本ノック 2020 (Rev 1) に取り組んでいます。Rでやっているコードの例を示すにとどまるもので、丁寧な解説を添えているようなものではありません" />
  <meta name="twitter:image" content="https://paithiov909.github.io/nlp100-knocks-rimages/coverimage.jpg" />

<meta name="author" content="paithiov909" />


<meta name="date" content="2020-07-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />


<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Rで言語処理100本ノックを解くわけがない</a></li>

<li class="divider"></li>
<li class="chapter" data-level="0.1" data-path=""><a href="#本書について"><i class="fa fa-check"></i><b>0.1</b> 本書について</a></li>
<li class="chapter" data-level="0.2" data-path=""><a href="#全体の見通し"><i class="fa fa-check"></i><b>0.2</b> 全体の見通し</a></li>
<li class="chapter" data-level="0.3" data-path=""><a href="#使用する環境など"><i class="fa fa-check"></i><b>0.3</b> 使用する環境など</a>
<ul>
<li class="chapter" data-level="0.3.1" data-path=""><a href="#mecabcabocha"><i class="fa fa-check"></i><b>0.3.1</b> MeCab/CaboCha</a></li>
<li class="chapter" data-level="0.3.2" data-path=""><a href="#rパッケージ"><i class="fa fa-check"></i><b>0.3.2</b> Rパッケージ</a></li>
</ul></li>
<li class="chapter" data-level="0.4" data-path=""><a href="#資料"><i class="fa fa-check"></i><b>0.4</b> 資料</a>
<ul>
<li class="chapter" data-level="0.4.1" data-path=""><a href="#tokenize-character-vector"><i class="fa fa-check"></i><b>0.4.1</b> Tokenize Character Vector</a></li>
</ul></li>
<li class="chapter" data-level="0.5" data-path=""><a href="#準備運動"><i class="fa fa-check"></i><b>0.5</b> 準備運動</a>
<ul>
<li class="chapter" data-level="0.5.1" data-path=""><a href="#文字列の逆順"><i class="fa fa-check"></i><b>0.5.1</b> 00. 文字列の逆順</a></li>
<li class="chapter" data-level="0.5.2" data-path=""><a href="#パタトクカシーー"><i class="fa fa-check"></i><b>0.5.2</b> 01. 「パタトクカシーー」</a></li>
<li class="chapter" data-level="0.5.3" data-path=""><a href="#パトカータクシーパタトクカシーー"><i class="fa fa-check"></i><b>0.5.3</b> 02. 「パトカー」＋「タクシー」＝「パタトクカシーー」</a></li>
<li class="chapter" data-level="0.5.4" data-path=""><a href="#円周率"><i class="fa fa-check"></i><b>0.5.4</b> 03. 円周率</a></li>
<li class="chapter" data-level="0.5.5" data-path=""><a href="#元素記号"><i class="fa fa-check"></i><b>0.5.5</b> 04. 元素記号</a></li>
<li class="chapter" data-level="0.5.6" data-path=""><a href="#n-gram"><i class="fa fa-check"></i><b>0.5.6</b> 05. n-gram</a></li>
<li class="chapter" data-level="0.5.7" data-path=""><a href="#集合"><i class="fa fa-check"></i><b>0.5.7</b> 06. 集合</a></li>
<li class="chapter" data-level="0.5.8" data-path=""><a href="#テンプレートによる文生成"><i class="fa fa-check"></i><b>0.5.8</b> 07. テンプレートによる文生成</a></li>
<li class="chapter" data-level="0.5.9" data-path=""><a href="#暗号文"><i class="fa fa-check"></i><b>0.5.9</b> 08. 暗号文</a></li>
<li class="chapter" data-level="0.5.10" data-path=""><a href="#typoglycemia"><i class="fa fa-check"></i><b>0.5.10</b> 09. Typoglycemia</a></li>
</ul></li>
<li class="chapter" data-level="0.6" data-path=""><a href="#unixコマンド"><i class="fa fa-check"></i><b>0.6</b> UNIXコマンド</a>
<ul>
<li class="chapter" data-level="0.6.1" data-path=""><a href="#section"><i class="fa fa-check"></i><b>0.6.1</b> 10~15</a></li>
<li class="chapter" data-level="0.6.2" data-path=""><a href="#ファイルをn分割する"><i class="fa fa-check"></i><b>0.6.2</b> 16. ファイルをN分割する</a></li>
<li class="chapter" data-level="0.6.3" data-path=""><a href="#列目の文字列の異なり"><i class="fa fa-check"></i><b>0.6.3</b> 17. １列目の文字列の異なり</a></li>
<li class="chapter" data-level="0.6.4" data-path=""><a href="#各行を3コラム目の数値の降順にソート"><i class="fa fa-check"></i><b>0.6.4</b> 18. 各行を3コラム目の数値の降順にソート</a></li>
<li class="chapter" data-level="0.6.5" data-path=""><a href="#各行の1コラム目の文字列の出現頻度を求め出現頻度の高い順に並べる"><i class="fa fa-check"></i><b>0.6.5</b> 19. 各行の1コラム目の文字列の出現頻度を求め，出現頻度の高い順に並べる</a></li>
</ul></li>
<li class="chapter" data-level="0.7" data-path=""><a href="#正規表現"><i class="fa fa-check"></i><b>0.7</b> 正規表現</a>
<ul>
<li class="chapter" data-level="0.7.1" data-path=""><a href="#jsonデータの読み込み"><i class="fa fa-check"></i><b>0.7.1</b> 20. JSONデータの読み込み</a></li>
<li class="chapter" data-level="0.7.2" data-path=""><a href="#カテゴリ名を含む行を抽出"><i class="fa fa-check"></i><b>0.7.2</b> 21. カテゴリ名を含む行を抽出</a></li>
</ul></li>
<li class="chapter" data-level="0.8" data-path=""><a href="#形態素解析"><i class="fa fa-check"></i><b>0.8</b> 形態素解析</a>
<ul>
<li class="chapter" data-level="0.8.1" data-path=""><a href="#形態素解析結果の読み込み"><i class="fa fa-check"></i><b>0.8.1</b> 30. 形態素解析結果の読み込み</a></li>
<li class="chapter" data-level="0.8.2" data-path=""><a href="#動詞"><i class="fa fa-check"></i><b>0.8.2</b> 31. 動詞</a></li>
<li class="chapter" data-level="0.8.3" data-path=""><a href="#動詞の原形"><i class="fa fa-check"></i><b>0.8.3</b> 32. 動詞の原形</a></li>
<li class="chapter" data-level="0.8.4" data-path=""><a href="#aのb"><i class="fa fa-check"></i><b>0.8.4</b> 33. 「AのB」</a></li>
<li class="chapter" data-level="0.8.5" data-path=""><a href="#名詞の連接"><i class="fa fa-check"></i><b>0.8.5</b> 34. 名詞の連接</a></li>
<li class="chapter" data-level="0.8.6" data-path=""><a href="#単語の出現頻度"><i class="fa fa-check"></i><b>0.8.6</b> 35. 単語の出現頻度</a></li>
<li class="chapter" data-level="0.8.7" data-path=""><a href="#頻度上位10語"><i class="fa fa-check"></i><b>0.8.7</b> 36. 頻度上位10語</a></li>
<li class="chapter" data-level="0.8.8" data-path=""><a href="#猫と共起頻度の高い上位10語"><i class="fa fa-check"></i><b>0.8.8</b> 37. 「猫」と共起頻度の高い上位10語</a></li>
<li class="chapter" data-level="0.8.9" data-path=""><a href="#ヒストグラム"><i class="fa fa-check"></i><b>0.8.9</b> 38. ヒストグラム</a></li>
<li class="chapter" data-level="0.8.10" data-path=""><a href="#zipfの法則"><i class="fa fa-check"></i><b>0.8.10</b> 39. Zipfの法則</a></li>
</ul></li>
<li class="chapter" data-level="0.9" data-path=""><a href="#係り受け解析"><i class="fa fa-check"></i><b>0.9</b> 係り受け解析</a>
<ul>
<li class="chapter" data-level="0.9.1" data-path=""><a href="#係り受け解析結果の読み込み形態素"><i class="fa fa-check"></i><b>0.9.1</b> 40. 係り受け解析結果の読み込み（形態素）</a></li>
<li class="chapter" data-level="0.9.2" data-path=""><a href="#係り受け解析結果の読み込み文節係り受け"><i class="fa fa-check"></i><b>0.9.2</b> 41. 係り受け解析結果の読み込み（文節・係り受け）</a></li>
<li class="chapter" data-level="0.9.3" data-path=""><a href="#係り元と係り先の文節の表示"><i class="fa fa-check"></i><b>0.9.3</b> 42. 係り元と係り先の文節の表示</a></li>
<li class="chapter" data-level="0.9.4" data-path=""><a href="#名詞を含む文節が動詞を含む文節に係るものを抽出"><i class="fa fa-check"></i><b>0.9.4</b> 43. 名詞を含む文節が動詞を含む文節に係るものを抽出</a></li>
<li class="chapter" data-level="0.9.5" data-path=""><a href="#係り受け木の可視化"><i class="fa fa-check"></i><b>0.9.5</b> 44. 係り受け木の可視化</a></li>
<li class="chapter" data-level="0.9.6" data-path=""><a href="#動詞の格パターンの抽出"><i class="fa fa-check"></i><b>0.9.6</b> 45. 動詞の格パターンの抽出</a></li>
<li class="chapter" data-level="0.9.7" data-path=""><a href="#動詞の格フレーム情報の抽出"><i class="fa fa-check"></i><b>0.9.7</b> 46. 動詞の格フレーム情報の抽出</a></li>
<li class="chapter" data-level="0.9.8" data-path=""><a href="#機能動詞構文のマイニング"><i class="fa fa-check"></i><b>0.9.8</b> 47. 機能動詞構文のマイニング</a></li>
</ul></li>
<li class="chapter" data-level="0.10" data-path=""><a href="#session-info"><i class="fa fa-check"></i><b>0.10</b> Session Info</a></li>
<li class="chapter" data-level="" data-path=""><a href="#references"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">係り受け解析</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">係り受け解析</h1>
<p class="author"><em>paithiov909</em></p>
<p class="date"><em>2020-07-11</em></p>
</div>
<div id="本書について" class="section level2" number="0.1">
<h2><span class="header-section-number">0.1</span> 本書について</h2>
<p>Rで言語処理100本ノック 2020 (Rev 1) に取り組んでいます。</p>
<p>Rでやっているコードの例を示すにとどまるもので、丁寧な解説を添えているようなものではありません。中盤以降もできそうなのでやろうとは思っていますが、実際にやる見通しは立てていません。</p>
</div>
<div id="全体の見通し" class="section level2" number="0.2">
<h2><span class="header-section-number">0.2</span> 全体の見通し</h2>
<p>2020年版に触ってみますが、ぜんぶは解きません。無理です。</p>
<ul>
<li><a href="https://nlp100.github.io/ja/">言語処理100本ノック 2020</a></li>
</ul>
<p>ググって出てくる範囲では2015年版にはyamano357さんが取り組んでいます。RcppでMeCabとCaboChaのバインディングを自分で書いて解いている本格派です。</p>
<ul>
<li><a href="http://yamano357.hatenadiary.com/entry/2015/07/27/001728">Rによる言語処理100本ノック前半まとめ - バイアスと戯れる</a></li>
<li><a href="http://yamano357.hatenadiary.com/entry/2015/10/22/193839">Rによる言語処理100本ノック後半まとめと全体での総括 - バイアスと戯れる</a></li>
</ul>
<p>2020年版もやろうとしている人がいるようです。</p>
<ul>
<li><a href="https://qiita.com/PiyoMoasa/items/7c1a6cca3f9cbcaf7773">言語処理100本ノック R - Qiita</a></li>
</ul>
<p>2020年版も7章の単語ベクトルあたりまではPure Rでいけそうですが、おそらく8章のディープ・ニューラルネットあたりからバックエンドにPythonを利用することになり、10章の最終題の翻訳デモの構築でふつうにPythonを利用しなければならなくなるはずなので詰みます。</p>
</div>
<div id="使用する環境など" class="section level2" number="0.3">
<h2><span class="header-section-number">0.3</span> 使用する環境など</h2>
<p>本書はWindows10 (64bit) でチャンクを実行してビルドしています。</p>
<div id="mecabcabocha" class="section level3" number="0.3.1">
<h3><span class="header-section-number">0.3.1</span> MeCab/CaboCha</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">system</span>(<span class="st">&quot;mecab --version&quot;</span>)</span></code></pre></div>
<pre><code>#&gt; [1] 0</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw">system</span>(<span class="st">&quot;cabocha --version&quot;</span>)</span></code></pre></div>
<pre><code>#&gt; [1] 0</code></pre>
</div>
<div id="rパッケージ" class="section level3" number="0.3.2">
<h3><span class="header-section-number">0.3.2</span> Rパッケージ</h3>
<p>使用するおもなパッケージです。</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">stopifnot</span>(</span>
<span id="cb5-2"><a href="#cb5-2"></a>  <span class="kw">require</span>(tidymodels),</span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="kw">require</span>(RcppKagome),</span>
<span id="cb5-4"><a href="#cb5-4"></a>  <span class="kw">require</span>(pipian),</span>
<span id="cb5-5"><a href="#cb5-5"></a>  <span class="kw">require</span>(textrecipes),</span>
<span id="cb5-6"><a href="#cb5-6"></a>  <span class="co">## 以下はこのセクションでのみ使うもの ##</span></span>
<span id="cb5-7"><a href="#cb5-7"></a>  <span class="kw">require</span>(RMeCab),</span>
<span id="cb5-8"><a href="#cb5-8"></a>  <span class="kw">require</span>(rjavacmecab),</span>
<span id="cb5-9"><a href="#cb5-9"></a>  <span class="kw">require</span>(tangela),</span>
<span id="cb5-10"><a href="#cb5-10"></a>  <span class="kw">require</span>(sudachir)</span>
<span id="cb5-11"><a href="#cb5-11"></a>)</span></code></pre></div>
<pre><code>#&gt; Loading required package: tidymodels</code></pre>
<pre><code>#&gt; -- Attaching packages ------------------------------------------ tidymodels 0.1.2 --</code></pre>
<pre><code>#&gt; √ broom     0.7.3      √ recipes   0.1.15
#&gt; √ dials     0.0.9      √ rsample   0.0.8 
#&gt; √ dplyr     1.0.2      √ tibble    3.0.4 
#&gt; √ ggplot2   3.3.3      √ tidyr     1.1.2 
#&gt; √ infer     0.5.4      √ tune      0.1.2 
#&gt; √ modeldata 0.1.0      √ workflows 0.2.1 
#&gt; √ parsnip   0.1.4      √ yardstick 0.0.7 
#&gt; √ purrr     0.3.4</code></pre>
<pre><code>#&gt; -- Conflicts --------------------------------------------- tidymodels_conflicts() --
#&gt; x purrr::discard()   masks scales::discard()
#&gt; x tidyr::extract()   masks magrittr::extract()
#&gt; x dplyr::filter()    masks stats::filter()
#&gt; x dplyr::lag()       masks stats::lag()
#&gt; x purrr::set_names() masks magrittr::set_names()
#&gt; x recipes::step()    masks stats::step()</code></pre>
<pre><code>#&gt; Loading required package: RcppKagome</code></pre>
<pre><code>#&gt; Loading required package: pipian</code></pre>
<pre><code>#&gt; Loading required package: textrecipes</code></pre>
<pre><code>#&gt; Loading required package: RMeCab</code></pre>
<pre><code>#&gt; Loading required package: rjavacmecab</code></pre>
<pre><code>#&gt; 
#&gt; Attaching package: &#39;rjavacmecab&#39;</code></pre>
<pre><code>#&gt; The following objects are masked from &#39;package:RcppKagome&#39;:
#&gt; 
#&gt;     prettify, tokenize</code></pre>
<pre><code>#&gt; Loading required package: tangela</code></pre>
<pre><code>#&gt; Loading required package: sudachir</code></pre>
<pre><code>#&gt; 
#&gt; Attaching package: &#39;sudachir&#39;</code></pre>
<pre><code>#&gt; The following object is masked from &#39;package:tangela&#39;:
#&gt; 
#&gt;     rebuild_tokenizer</code></pre>
</div>
</div>
<div id="資料" class="section level2" number="0.4">
<h2><span class="header-section-number">0.4</span> 資料</h2>
<p>参考としてRで形態素解析するパッケージの速度比較をします。</p>
<p>以下を試しています。</p>
<ul>
<li>RMeCab::RMeCabC</li>
<li>rjavacmecab::cmecab</li>
<li>RcppKagome::kagome</li>
<li>tangela::kuromoji</li>
<li>sudachir::form(mode = “A”, type = “surface”)</li>
</ul>
<p>以下は解析する文書のサンプル。</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>csv &lt;-<span class="st"> </span><span class="kw">file.path</span>(<span class="st">&quot;miyazawa_kenji_head.csv&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="st">  </span>readr<span class="op">::</span><span class="kw">read_csv</span>() <span class="op">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">sample_n</span>(50L) <span class="op">%&gt;%</span></span>
<span id="cb21-4"><a href="#cb21-4"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(</span>
<span id="cb21-5"><a href="#cb21-5"></a>    <span class="dt">sentences_shift_jis =</span> <span class="kw">iconv</span>(sentences, <span class="dt">from =</span> <span class="st">&quot;UTF-8&quot;</span>, <span class="dt">to =</span> <span class="st">&quot;CP932&quot;</span>)</span>
<span id="cb21-6"><a href="#cb21-6"></a>  )</span></code></pre></div>
<pre><code>#&gt; 
#&gt; -- Column specification ------------------------------------------------------------
#&gt; cols(
#&gt;   rowid = col_double(),
#&gt;   sentences = col_character()
#&gt; )</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="kw">str</span>(csv)</span></code></pre></div>
<pre><code>#&gt; tibble [50 x 3] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
#&gt;  $ rowid              : num [1:50] 169 545 733 70 310 569 99 543 836 514 ...
#&gt;  $ sentences          : chr [1:50] &quot;「たのんでみようか。はやく来るといいな。」&quot; &quot;あまがえるどもも大よろこびでみんな粟のこっぷで舶来ウィスキイを一杯ずつ呑んで、キーイキーイと寝てしまいました。&quot; &quot;それは小岩井農場の南、あのゆるやかな七つ森のいちばん西のはずれの西がわでした。かれ草の中に二本のうずのしゅげが&quot;| __truncated__ &quot;五月九日、&quot; ...
#&gt;  $ sentences_shift_jis: chr [1:50] &quot;「たのんでみようか。はやく来るといいな。」&quot; &quot;あまがえるどもも大よろこびでみんな粟のこっぷで舶来ウィスキイを一杯ずつ呑んで、キーイキーイと寝てしまいました。&quot; &quot;それは小岩井農場の南、あのゆるやかな七つ森のいちばん西のはずれの西がわでした。かれ草の中に二本のうずのしゅげが&quot;| __truncated__ &quot;五月九日、&quot; ...
#&gt;  - attr(*, &quot;spec&quot;)=
#&gt;   .. cols(
#&gt;   ..   rowid = col_double(),
#&gt;   ..   sentences = col_character()
#&gt;   .. )</code></pre>
<div id="tokenize-character-scalar" class="section level4" number="0.4.0.1">
<h4><span class="header-section-number">0.4.0.1</span> Tokenize Character Scalar</h4>
<p>ひとつの文について繰り返し解析する場合。</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>tm &lt;-<span class="st"> </span>microbenchmark<span class="op">::</span><span class="kw">microbenchmark</span>(</span>
<span id="cb25-2"><a href="#cb25-2"></a>  <span class="dt">RMeCabC =</span> <span class="kw">RMeCabC</span>(csv<span class="op">$</span>sentences_shift_jis[<span class="dv">1</span>]),</span>
<span id="cb25-3"><a href="#cb25-3"></a>  <span class="dt">cmecab =</span> <span class="kw">cmecab</span>(csv<span class="op">$</span>sentences[<span class="dv">1</span>]),</span>
<span id="cb25-4"><a href="#cb25-4"></a>  <span class="dt">kagome =</span> <span class="kw">kagome</span>(csv<span class="op">$</span>sentences[<span class="dv">1</span>]),</span>
<span id="cb25-5"><a href="#cb25-5"></a>  <span class="dt">kuromoji =</span> <span class="kw">kuromoji</span>(csv<span class="op">$</span>sentences[<span class="dv">1</span>]),</span>
<span id="cb25-6"><a href="#cb25-6"></a>  <span class="dt">sudachipy =</span> sudachir<span class="op">::</span><span class="kw">form</span>(csv<span class="op">$</span>sentences[<span class="dv">1</span>], <span class="dt">mode =</span> <span class="st">&quot;A&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;surface&quot;</span>),</span>
<span id="cb25-7"><a href="#cb25-7"></a>  <span class="dt">times =</span> 50L</span>
<span id="cb25-8"><a href="#cb25-8"></a>)</span></code></pre></div>
<pre><code>#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 13 tokens</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="kw">summary</span>(tm)</span></code></pre></div>
<pre><code>#&gt;        expr      min       lq      mean    median       uq       max neval
#&gt; 1   RMeCabC   2.7041   3.0572  11.25469   3.13685   3.2838  406.5554    50
#&gt; 2    cmecab   9.7535  10.3457  12.39009  10.65920  11.0641   60.1507    50
#&gt; 3    kagome   1.3145   1.6309  42.18946   1.70355   1.8290 2022.9049    50
#&gt; 4  kuromoji  89.5510  92.6414 106.58247  99.72515 115.6774  207.8598    50
#&gt; 5 sudachipy 125.2155 131.5050 171.14910 136.18660 153.4638 1557.0151    50</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>ggplot2<span class="op">::</span><span class="kw">autoplot</span>(tm)</span></code></pre></div>
<pre><code>#&gt; Coordinate system already present. Adding new coordinate system, which will replace the existing one.</code></pre>
<p><img src="nlp100-knocks-r_files/figure-html/bench-plot_1-1.png" width="672" /></p>
</div>
<div id="tokenize-character-vector" class="section level3" number="0.4.1">
<h3><span class="header-section-number">0.4.1</span> Tokenize Character Vector</h3>
<p>50文を長さ<code>50</code>のベクトルとして与える場合。</p>
<p>RMeCab::RMeCabCとtangela::kuromojiは長さが1のベクトル（character scalar）しか受けつけないため、ここではsapplyでラップしています。なお、rjavacmecab::cmecabについては、ベクトルを与えられた場合は要素を改行でcollapseしてひとつの文にして解析するため、他とは挙動が異なります。</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>tm &lt;-<span class="st"> </span>microbenchmark<span class="op">::</span><span class="kw">microbenchmark</span>(</span>
<span id="cb31-2"><a href="#cb31-2"></a>  <span class="dt">RMeCabC =</span> <span class="kw">sapply</span>(csv<span class="op">$</span>sentences_shift_jis, RMeCabC),</span>
<span id="cb31-3"><a href="#cb31-3"></a>  <span class="dt">cmecab =</span> <span class="kw">cmecab</span>(csv<span class="op">$</span>sentences),</span>
<span id="cb31-4"><a href="#cb31-4"></a>  <span class="dt">kagome =</span> <span class="kw">kagome</span>(csv<span class="op">$</span>sentences),</span>
<span id="cb31-5"><a href="#cb31-5"></a>  <span class="dt">kuromoji =</span> <span class="kw">sapply</span>(csv<span class="op">$</span>sentences, kuromoji),</span>
<span id="cb31-6"><a href="#cb31-6"></a>  <span class="dt">sudachipy =</span> sudachir<span class="op">::</span><span class="kw">form</span>(csv<span class="op">$</span>sentences, <span class="dt">mode =</span> <span class="st">&quot;A&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;surface&quot;</span>),</span>
<span id="cb31-7"><a href="#cb31-7"></a>  <span class="dt">times =</span> 5L</span>
<span id="cb31-8"><a href="#cb31-8"></a>)</span></code></pre></div>
<pre><code>#&gt; Parsed to 13 tokens
#&gt; Parsed to 27 tokens
#&gt; Parsed to 49 tokens
#&gt; Parsed to 5 tokens
#&gt; Parsed to 9 tokens
#&gt; Parsed to 74 tokens
#&gt; Parsed to 49 tokens
#&gt; Parsed to 10 tokens
#&gt; Parsed to 26 tokens
#&gt; Parsed to 9 tokens
#&gt; Parsed to 20 tokens
#&gt; Parsed to 4 tokens
#&gt; Parsed to 35 tokens
#&gt; Parsed to 153 tokens
#&gt; Parsed to 11 tokens
#&gt; Parsed to 27 tokens
#&gt; Parsed to 16 tokens
#&gt; Parsed to 16 tokens
#&gt; Parsed to 130 tokens
#&gt; Parsed to 50 tokens
#&gt; Parsed to 119 tokens
#&gt; Parsed to 18 tokens
#&gt; Parsed to 116 tokens
#&gt; Parsed to 18 tokens
#&gt; Parsed to 3 tokens
#&gt; Parsed to 14 tokens
#&gt; Parsed to 37 tokens
#&gt; Parsed to 18 tokens
#&gt; Parsed to 109 tokens
#&gt; Parsed to 12 tokens
#&gt; Parsed to 205 tokens
#&gt; Parsed to 47 tokens
#&gt; Parsed to 31 tokens
#&gt; Parsed to 25 tokens
#&gt; Parsed to 32 tokens
#&gt; Parsed to 30 tokens
#&gt; Parsed to 7 tokens
#&gt; Parsed to 17 tokens
#&gt; Parsed to 21 tokens
#&gt; Parsed to 26 tokens
#&gt; Parsed to 1 token
#&gt; Parsed to 41 tokens
#&gt; Parsed to 16 tokens
#&gt; Parsed to 93 tokens
#&gt; Parsed to 19 tokens
#&gt; Parsed to 17 tokens
#&gt; Parsed to 28 tokens
#&gt; Parsed to 10 tokens
#&gt; Parsed to 4 tokens
#&gt; Parsed to 41 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 27 tokens
#&gt; Parsed to 49 tokens
#&gt; Parsed to 5 tokens
#&gt; Parsed to 9 tokens
#&gt; Parsed to 74 tokens
#&gt; Parsed to 49 tokens
#&gt; Parsed to 10 tokens
#&gt; Parsed to 26 tokens
#&gt; Parsed to 9 tokens
#&gt; Parsed to 20 tokens
#&gt; Parsed to 4 tokens
#&gt; Parsed to 35 tokens
#&gt; Parsed to 153 tokens
#&gt; Parsed to 11 tokens
#&gt; Parsed to 27 tokens
#&gt; Parsed to 16 tokens
#&gt; Parsed to 16 tokens
#&gt; Parsed to 130 tokens
#&gt; Parsed to 50 tokens
#&gt; Parsed to 119 tokens
#&gt; Parsed to 18 tokens
#&gt; Parsed to 116 tokens
#&gt; Parsed to 18 tokens
#&gt; Parsed to 3 tokens
#&gt; Parsed to 14 tokens
#&gt; Parsed to 37 tokens
#&gt; Parsed to 18 tokens
#&gt; Parsed to 109 tokens
#&gt; Parsed to 12 tokens
#&gt; Parsed to 205 tokens
#&gt; Parsed to 47 tokens
#&gt; Parsed to 31 tokens
#&gt; Parsed to 25 tokens
#&gt; Parsed to 32 tokens
#&gt; Parsed to 30 tokens
#&gt; Parsed to 7 tokens
#&gt; Parsed to 17 tokens
#&gt; Parsed to 21 tokens
#&gt; Parsed to 26 tokens
#&gt; Parsed to 1 token
#&gt; Parsed to 41 tokens
#&gt; Parsed to 16 tokens
#&gt; Parsed to 93 tokens
#&gt; Parsed to 19 tokens
#&gt; Parsed to 17 tokens
#&gt; Parsed to 28 tokens
#&gt; Parsed to 10 tokens
#&gt; Parsed to 4 tokens
#&gt; Parsed to 41 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 27 tokens
#&gt; Parsed to 49 tokens
#&gt; Parsed to 5 tokens
#&gt; Parsed to 9 tokens
#&gt; Parsed to 74 tokens
#&gt; Parsed to 49 tokens
#&gt; Parsed to 10 tokens
#&gt; Parsed to 26 tokens
#&gt; Parsed to 9 tokens
#&gt; Parsed to 20 tokens
#&gt; Parsed to 4 tokens
#&gt; Parsed to 35 tokens
#&gt; Parsed to 153 tokens
#&gt; Parsed to 11 tokens
#&gt; Parsed to 27 tokens
#&gt; Parsed to 16 tokens
#&gt; Parsed to 16 tokens
#&gt; Parsed to 130 tokens
#&gt; Parsed to 50 tokens
#&gt; Parsed to 119 tokens
#&gt; Parsed to 18 tokens
#&gt; Parsed to 116 tokens
#&gt; Parsed to 18 tokens
#&gt; Parsed to 3 tokens
#&gt; Parsed to 14 tokens
#&gt; Parsed to 37 tokens
#&gt; Parsed to 18 tokens
#&gt; Parsed to 109 tokens
#&gt; Parsed to 12 tokens
#&gt; Parsed to 205 tokens
#&gt; Parsed to 47 tokens
#&gt; Parsed to 31 tokens
#&gt; Parsed to 25 tokens
#&gt; Parsed to 32 tokens
#&gt; Parsed to 30 tokens
#&gt; Parsed to 7 tokens
#&gt; Parsed to 17 tokens
#&gt; Parsed to 21 tokens
#&gt; Parsed to 26 tokens
#&gt; Parsed to 1 token
#&gt; Parsed to 41 tokens
#&gt; Parsed to 16 tokens
#&gt; Parsed to 93 tokens
#&gt; Parsed to 19 tokens
#&gt; Parsed to 17 tokens
#&gt; Parsed to 28 tokens
#&gt; Parsed to 10 tokens
#&gt; Parsed to 4 tokens
#&gt; Parsed to 41 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 27 tokens
#&gt; Parsed to 49 tokens
#&gt; Parsed to 5 tokens
#&gt; Parsed to 9 tokens
#&gt; Parsed to 74 tokens
#&gt; Parsed to 49 tokens
#&gt; Parsed to 10 tokens
#&gt; Parsed to 26 tokens
#&gt; Parsed to 9 tokens
#&gt; Parsed to 20 tokens
#&gt; Parsed to 4 tokens
#&gt; Parsed to 35 tokens
#&gt; Parsed to 153 tokens
#&gt; Parsed to 11 tokens
#&gt; Parsed to 27 tokens
#&gt; Parsed to 16 tokens
#&gt; Parsed to 16 tokens
#&gt; Parsed to 130 tokens
#&gt; Parsed to 50 tokens
#&gt; Parsed to 119 tokens
#&gt; Parsed to 18 tokens
#&gt; Parsed to 116 tokens
#&gt; Parsed to 18 tokens
#&gt; Parsed to 3 tokens
#&gt; Parsed to 14 tokens
#&gt; Parsed to 37 tokens
#&gt; Parsed to 18 tokens
#&gt; Parsed to 109 tokens
#&gt; Parsed to 12 tokens
#&gt; Parsed to 205 tokens
#&gt; Parsed to 47 tokens
#&gt; Parsed to 31 tokens
#&gt; Parsed to 25 tokens
#&gt; Parsed to 32 tokens
#&gt; Parsed to 30 tokens
#&gt; Parsed to 7 tokens
#&gt; Parsed to 17 tokens
#&gt; Parsed to 21 tokens
#&gt; Parsed to 26 tokens
#&gt; Parsed to 1 token
#&gt; Parsed to 41 tokens
#&gt; Parsed to 16 tokens
#&gt; Parsed to 93 tokens
#&gt; Parsed to 19 tokens
#&gt; Parsed to 17 tokens
#&gt; Parsed to 28 tokens
#&gt; Parsed to 10 tokens
#&gt; Parsed to 4 tokens
#&gt; Parsed to 41 tokens
#&gt; Parsed to 13 tokens
#&gt; Parsed to 27 tokens
#&gt; Parsed to 49 tokens
#&gt; Parsed to 5 tokens
#&gt; Parsed to 9 tokens
#&gt; Parsed to 74 tokens
#&gt; Parsed to 49 tokens
#&gt; Parsed to 10 tokens
#&gt; Parsed to 26 tokens
#&gt; Parsed to 9 tokens
#&gt; Parsed to 20 tokens
#&gt; Parsed to 4 tokens
#&gt; Parsed to 35 tokens
#&gt; Parsed to 153 tokens
#&gt; Parsed to 11 tokens
#&gt; Parsed to 27 tokens
#&gt; Parsed to 16 tokens
#&gt; Parsed to 16 tokens
#&gt; Parsed to 130 tokens
#&gt; Parsed to 50 tokens
#&gt; Parsed to 119 tokens
#&gt; Parsed to 18 tokens
#&gt; Parsed to 116 tokens
#&gt; Parsed to 18 tokens
#&gt; Parsed to 3 tokens
#&gt; Parsed to 14 tokens
#&gt; Parsed to 37 tokens
#&gt; Parsed to 18 tokens
#&gt; Parsed to 109 tokens
#&gt; Parsed to 12 tokens
#&gt; Parsed to 205 tokens
#&gt; Parsed to 47 tokens
#&gt; Parsed to 31 tokens
#&gt; Parsed to 25 tokens
#&gt; Parsed to 32 tokens
#&gt; Parsed to 30 tokens
#&gt; Parsed to 7 tokens
#&gt; Parsed to 17 tokens
#&gt; Parsed to 21 tokens
#&gt; Parsed to 26 tokens
#&gt; Parsed to 1 token
#&gt; Parsed to 41 tokens
#&gt; Parsed to 16 tokens
#&gt; Parsed to 93 tokens
#&gt; Parsed to 19 tokens
#&gt; Parsed to 17 tokens
#&gt; Parsed to 28 tokens
#&gt; Parsed to 10 tokens
#&gt; Parsed to 4 tokens
#&gt; Parsed to 41 tokens</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="kw">summary</span>(tm)</span></code></pre></div>
<pre><code>#&gt;        expr        min         lq       mean     median         uq        max neval
#&gt; 1   RMeCabC   150.6774   155.3998   165.6577   158.2535   161.4907   202.4669     5
#&gt; 2    cmecab    18.7087    18.9104   711.4283    23.3193    23.4481  3472.7548     5
#&gt; 3    kagome   178.0240   184.8382   187.9799   187.5835   193.1813   196.2726     5
#&gt; 4  kuromoji 13734.1372 13776.7842 13939.9894 13939.6138 14000.9775 14248.4345     5
#&gt; 5 sudachipy 16702.7672 17193.3969 20141.7589 17728.8534 17862.7352 31221.0420     5</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>ggplot2<span class="op">::</span><span class="kw">autoplot</span>(tm)</span></code></pre></div>
<pre><code>#&gt; Coordinate system already present. Adding new coordinate system, which will replace the existing one.</code></pre>
<p><img src="nlp100-knocks-r_files/figure-html/bench-plot_2-1.png" width="672" /></p>

</div>
</div>
<div id="準備運動" class="section level2" number="0.5">
<h2><span class="header-section-number">0.5</span> 準備運動</h2>
<p>コーディングの方針として、値はなるべくリストのまま持っておいて最後に<code>unlist</code>する感じにしています。あと、<code>paste</code>ではなくて<code>stringr::str_c</code>で統一しています。</p>
<div id="文字列の逆順" class="section level3" number="0.5.1">
<h3><span class="header-section-number">0.5.1</span> 00. 文字列の逆順</h3>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>stringr<span class="op">::</span><span class="kw">str_split</span>(<span class="st">&quot;stressed&quot;</span>, <span class="dt">pattern =</span> <span class="st">&quot;&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb37-2"><a href="#cb37-2"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw">map</span>(<span class="op">~</span><span class="st"> </span><span class="kw">rev</span>(.)) <span class="op">%&gt;%</span></span>
<span id="cb37-3"><a href="#cb37-3"></a><span class="st">  </span><span class="kw">unlist</span>() <span class="op">%&gt;%</span></span>
<span id="cb37-4"><a href="#cb37-4"></a><span class="st">  </span>stringr<span class="op">::</span><span class="kw">str_c</span>(<span class="dt">collapse =</span> <span class="st">&quot;&quot;</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;desserts&quot;</code></pre>
</div>
<div id="パタトクカシーー" class="section level3" number="0.5.2">
<h3><span class="header-section-number">0.5.2</span> 01. 「パタトクカシーー」</h3>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>stringr<span class="op">::</span><span class="kw">str_split</span>(<span class="st">&quot;パタトクカシーー&quot;</span>, <span class="dt">pattern =</span> <span class="st">&quot;&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb39-2"><a href="#cb39-2"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw">map</span>(<span class="op">~</span><span class="st"> </span>purrr<span class="op">::</span><span class="kw">pluck</span>(.[<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>)])) <span class="op">%&gt;%</span></span>
<span id="cb39-3"><a href="#cb39-3"></a><span class="st">  </span><span class="kw">unlist</span>() <span class="op">%&gt;%</span></span>
<span id="cb39-4"><a href="#cb39-4"></a><span class="st">  </span>stringr<span class="op">::</span><span class="kw">str_c</span>(<span class="dt">collapse =</span> <span class="st">&quot;&quot;</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;パトカー&quot;</code></pre>
</div>
<div id="パトカータクシーパタトクカシーー" class="section level3" number="0.5.3">
<h3><span class="header-section-number">0.5.3</span> 02. 「パトカー」＋「タクシー」＝「パタトクカシーー」</h3>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="kw">list</span>(<span class="st">&quot;パトカー&quot;</span>, <span class="st">&quot;タクシー&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb41-2"><a href="#cb41-2"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw">map</span>(<span class="op">~</span><span class="st"> </span>stringr<span class="op">::</span><span class="kw">str_split</span>(., <span class="dt">pattern =</span> <span class="st">&quot;&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb41-3"><a href="#cb41-3"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw">flatten</span>() <span class="op">%&gt;%</span></span>
<span id="cb41-4"><a href="#cb41-4"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw">pmap</span>(<span class="op">~</span><span class="st"> </span>stringr<span class="op">::</span><span class="kw">str_c</span>(.x, .y, <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb41-5"><a href="#cb41-5"></a><span class="st">  </span><span class="kw">unlist</span>() <span class="op">%&gt;%</span></span>
<span id="cb41-6"><a href="#cb41-6"></a><span class="st">  </span>stringr<span class="op">::</span><span class="kw">str_c</span>(<span class="dt">collapse =</span> <span class="st">&quot;&quot;</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;パタトクカシーー&quot;</code></pre>
</div>
<div id="円周率" class="section level3" number="0.5.4">
<h3><span class="header-section-number">0.5.4</span> 03. 円周率</h3>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>stringr<span class="op">::</span><span class="kw">str_split</span>(<span class="st">&quot;Now I need a drink, alcoholic of course, after the heavy lectures involving quantum mechanics.&quot;</span>, <span class="dt">pattern =</span> <span class="st">&quot; &quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb43-2"><a href="#cb43-2"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw">flatten</span>() <span class="op">%&gt;%</span></span>
<span id="cb43-3"><a href="#cb43-3"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw">map</span>(<span class="op">~</span><span class="st"> </span>stringr<span class="op">::</span><span class="kw">str_count</span>(., <span class="dt">pattern =</span> <span class="st">&quot;[:alpha:]&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb43-4"><a href="#cb43-4"></a><span class="st">  </span><span class="kw">unlist</span>()</span></code></pre></div>
<pre><code>#&gt;  [1] 3 1 4 1 5 9 2 6 5 3 5 8 9 7 9</code></pre>
</div>
<div id="元素記号" class="section level3" number="0.5.5">
<h3><span class="header-section-number">0.5.5</span> 04. 元素記号</h3>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a>stringr<span class="op">::</span><span class="kw">str_split</span>(<span class="st">&quot;Hi He Lied Because Boron Could Not Oxidize Fluorine. New Nations Might Also Sign Peace Security Clause. Arthur King Can.&quot;</span>, <span class="dt">pattern =</span> <span class="st">&quot; &quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb45-2"><a href="#cb45-2"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw">flatten</span>() <span class="op">%&gt;%</span></span>
<span id="cb45-3"><a href="#cb45-3"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw">imap</span>(<span class="op">~</span></span>
<span id="cb45-4"><a href="#cb45-4"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">if_else</span>(</span>
<span id="cb45-5"><a href="#cb45-5"></a>    .y <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">15</span>, <span class="dv">16</span>, <span class="dv">19</span>),</span>
<span id="cb45-6"><a href="#cb45-6"></a>    stringr<span class="op">::</span><span class="kw">str_sub</span>(.x, <span class="dv">1</span>, <span class="dv">1</span>),</span>
<span id="cb45-7"><a href="#cb45-7"></a>    stringr<span class="op">::</span><span class="kw">str_sub</span>(.x, <span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb45-8"><a href="#cb45-8"></a>  )) <span class="op">%&gt;%</span></span>
<span id="cb45-9"><a href="#cb45-9"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw">imap</span>(<span class="cf">function</span>(x, i) {</span>
<span id="cb45-10"><a href="#cb45-10"></a>    <span class="kw">names</span>(x) &lt;-<span class="st"> </span>i</span>
<span id="cb45-11"><a href="#cb45-11"></a>    <span class="kw">return</span>(x)</span>
<span id="cb45-12"><a href="#cb45-12"></a>  }) <span class="op">%&gt;%</span></span>
<span id="cb45-13"><a href="#cb45-13"></a><span class="st">  </span><span class="kw">unlist</span>()</span></code></pre></div>
<pre><code>#&gt;    1    2    3    4    5    6    7    8    9   10   11   12   13   14   15   16 
#&gt;  &quot;H&quot; &quot;He&quot; &quot;Li&quot; &quot;Be&quot;  &quot;B&quot;  &quot;C&quot;  &quot;N&quot;  &quot;O&quot;  &quot;F&quot; &quot;Ne&quot; &quot;Na&quot; &quot;Mi&quot; &quot;Al&quot; &quot;Si&quot;  &quot;P&quot;  &quot;S&quot; 
#&gt;   17   18   19   20 
#&gt; &quot;Cl&quot; &quot;Ar&quot;  &quot;K&quot; &quot;Ca&quot;</code></pre>
</div>
<div id="n-gram" class="section level3" number="0.5.6">
<h3><span class="header-section-number">0.5.6</span> 05. n-gram</h3>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>ngram &lt;-<span class="st"> </span><span class="cf">function</span>(x, <span class="dt">n =</span> <span class="dv">2</span>, <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>) {</span>
<span id="cb47-2"><a href="#cb47-2"></a>  <span class="kw">stopifnot</span>(<span class="kw">is.character</span>(x))</span>
<span id="cb47-3"><a href="#cb47-3"></a>  <span class="co">#### 先例がみんな`embed`を使っているが、ここでは使わない ####</span></span>
<span id="cb47-4"><a href="#cb47-4"></a></span>
<span id="cb47-5"><a href="#cb47-5"></a>  tokens &lt;-<span class="st"> </span><span class="kw">unlist</span>(stringr<span class="op">::</span><span class="kw">str_split</span>(x, <span class="dt">pattern =</span> sep))</span>
<span id="cb47-6"><a href="#cb47-6"></a>  len &lt;-<span class="st"> </span><span class="kw">length</span>(tokens)</span>
<span id="cb47-7"><a href="#cb47-7"></a></span>
<span id="cb47-8"><a href="#cb47-8"></a>  <span class="cf">if</span> (len <span class="op">&lt;</span><span class="st"> </span>n) {</span>
<span id="cb47-9"><a href="#cb47-9"></a>    res &lt;-<span class="st"> </span><span class="kw">character</span>(<span class="dv">0</span>)</span>
<span id="cb47-10"><a href="#cb47-10"></a>  } <span class="cf">else</span> {</span>
<span id="cb47-11"><a href="#cb47-11"></a>    res &lt;-<span class="st"> </span><span class="kw">sapply</span>(<span class="dv">1</span><span class="op">:</span><span class="kw">max</span>(<span class="dv">1</span>, len <span class="op">-</span><span class="st"> </span>n <span class="op">+</span><span class="st"> </span><span class="dv">1</span>), <span class="cf">function</span>(i) {</span>
<span id="cb47-12"><a href="#cb47-12"></a>      stringr<span class="op">::</span><span class="kw">str_c</span>(tokens[i<span class="op">:</span><span class="kw">min</span>(len, i <span class="op">+</span><span class="st"> </span>n <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)], <span class="dt">collapse =</span> <span class="st">&quot; &quot;</span>)</span>
<span id="cb47-13"><a href="#cb47-13"></a>    })</span>
<span id="cb47-14"><a href="#cb47-14"></a>  }</span>
<span id="cb47-15"><a href="#cb47-15"></a></span>
<span id="cb47-16"><a href="#cb47-16"></a>  <span class="kw">return</span>(res)</span>
<span id="cb47-17"><a href="#cb47-17"></a>}</span>
<span id="cb47-18"><a href="#cb47-18"></a><span class="kw">ngram</span>(<span class="st">&quot;I am an NLPer&quot;</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;I am&quot;     &quot;am an&quot;    &quot;an NLPer&quot;</code></pre>
</div>
<div id="集合" class="section level3" number="0.5.7">
<h3><span class="header-section-number">0.5.7</span> 06. 集合</h3>
<p>回答略</p>
</div>
<div id="テンプレートによる文生成" class="section level3" number="0.5.8">
<h3><span class="header-section-number">0.5.8</span> 07. テンプレートによる文生成</h3>
<p>回答略</p>
</div>
<div id="暗号文" class="section level3" number="0.5.9">
<h3><span class="header-section-number">0.5.9</span> 08. 暗号文</h3>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>cipher &lt;-<span class="st"> </span><span class="cf">function</span>(str) {</span>
<span id="cb49-2"><a href="#cb49-2"></a>  f &lt;-<span class="st"> </span>purrr<span class="op">::</span><span class="kw">as_mapper</span>(<span class="op">~</span><span class="st"> </span><span class="dv">219</span> <span class="op">-</span><span class="st"> </span>.)</span>
<span id="cb49-3"><a href="#cb49-3"></a>  v &lt;-<span class="st"> </span>stringr<span class="op">::</span><span class="kw">str_split</span>(str, <span class="dt">pattern =</span> <span class="st">&quot;&quot;</span>, <span class="dt">simplify =</span> <span class="ot">TRUE</span>)</span>
<span id="cb49-4"><a href="#cb49-4"></a>  res &lt;-<span class="st"> </span><span class="kw">sapply</span>(v[<span class="dv">1</span>, ], <span class="cf">function</span>(char) {</span>
<span id="cb49-5"><a href="#cb49-5"></a>    dplyr<span class="op">::</span><span class="kw">if_else</span>(</span>
<span id="cb49-6"><a href="#cb49-6"></a>      stringr<span class="op">::</span><span class="kw">str_detect</span>(char, <span class="st">&quot;[:lower:]&quot;</span>),</span>
<span id="cb49-7"><a href="#cb49-7"></a>      char <span class="op">%&gt;%</span></span>
<span id="cb49-8"><a href="#cb49-8"></a><span class="st">        </span><span class="kw">charToRaw</span>() <span class="op">%&gt;%</span></span>
<span id="cb49-9"><a href="#cb49-9"></a><span class="st">        </span><span class="kw">as.integer</span>() <span class="op">%&gt;%</span></span>
<span id="cb49-10"><a href="#cb49-10"></a><span class="st">        </span><span class="kw">f</span>() <span class="op">%&gt;%</span></span>
<span id="cb49-11"><a href="#cb49-11"></a><span class="st">        </span><span class="kw">as.raw</span>() <span class="op">%&gt;%</span></span>
<span id="cb49-12"><a href="#cb49-12"></a><span class="st">        </span><span class="kw">rawToChar</span>(),</span>
<span id="cb49-13"><a href="#cb49-13"></a>      char</span>
<span id="cb49-14"><a href="#cb49-14"></a>    )</span>
<span id="cb49-15"><a href="#cb49-15"></a>  })</span>
<span id="cb49-16"><a href="#cb49-16"></a>  <span class="kw">return</span>(stringr<span class="op">::</span><span class="kw">str_c</span>(res, <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span>))</span>
<span id="cb49-17"><a href="#cb49-17"></a>}</span>
<span id="cb49-18"><a href="#cb49-18"></a><span class="kw">cipher</span>(<span class="st">&quot;I couldn&#39;t believe that I could actually understand what I was reading : the phenomenal power of the human mind.&quot;</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;I xlfowm&#39;g yvorvev gszg I xlfow zxgfzoob fmwvihgzmw dszg I dzh ivzwrmt : gsv ksvmlnvmzo kldvi lu gsv sfnzm nrmw.&quot;</code></pre>
</div>
<div id="typoglycemia" class="section level3" number="0.5.10">
<h3><span class="header-section-number">0.5.10</span> 09. Typoglycemia</h3>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>typoglycemia &lt;-<span class="st"> </span><span class="cf">function</span>(str) {</span>
<span id="cb51-2"><a href="#cb51-2"></a>  f &lt;-<span class="st"> </span><span class="cf">function</span>(char) {</span>
<span id="cb51-3"><a href="#cb51-3"></a>    subset &lt;-<span class="st"> </span>stringr<span class="op">::</span><span class="kw">str_sub</span>(char, <span class="dv">2</span>, <span class="kw">nchar</span>(char) <span class="op">-</span><span class="st"> </span><span class="dv">1</span>) <span class="op">%&gt;%</span></span>
<span id="cb51-4"><a href="#cb51-4"></a><span class="st">      </span>stringr<span class="op">::</span><span class="kw">str_split</span>(<span class="dt">pattern =</span> <span class="st">&quot;&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb51-5"><a href="#cb51-5"></a><span class="st">      </span>purrr<span class="op">::</span><span class="kw">flatten</span>() <span class="op">%&gt;%</span></span>
<span id="cb51-6"><a href="#cb51-6"></a><span class="st">      </span><span class="kw">sample</span>()</span>
<span id="cb51-7"><a href="#cb51-7"></a>    res &lt;-<span class="st"> </span>stringr<span class="op">::</span><span class="kw">str_c</span>(</span>
<span id="cb51-8"><a href="#cb51-8"></a>      <span class="kw">c</span>(</span>
<span id="cb51-9"><a href="#cb51-9"></a>        stringr<span class="op">::</span><span class="kw">str_sub</span>(char, <span class="dv">1</span>, <span class="dv">1</span>),</span>
<span id="cb51-10"><a href="#cb51-10"></a>        subset,</span>
<span id="cb51-11"><a href="#cb51-11"></a>        stringr<span class="op">::</span><span class="kw">str_sub</span>(char, <span class="kw">nchar</span>(char), <span class="kw">nchar</span>(char))</span>
<span id="cb51-12"><a href="#cb51-12"></a>      ),</span>
<span id="cb51-13"><a href="#cb51-13"></a>      <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb51-14"><a href="#cb51-14"></a>    )</span>
<span id="cb51-15"><a href="#cb51-15"></a>    <span class="kw">return</span>(res)</span>
<span id="cb51-16"><a href="#cb51-16"></a>  }</span>
<span id="cb51-17"><a href="#cb51-17"></a>  res &lt;-<span class="st"> </span>stringr<span class="op">::</span><span class="kw">str_split</span>(str, <span class="dt">pattern =</span> <span class="st">&quot; &quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb51-18"><a href="#cb51-18"></a><span class="st">    </span>purrr<span class="op">::</span><span class="kw">flatten</span>() <span class="op">%&gt;%</span></span>
<span id="cb51-19"><a href="#cb51-19"></a><span class="st">    </span>purrr<span class="op">::</span><span class="kw">map</span>(<span class="op">~</span></span>
<span id="cb51-20"><a href="#cb51-20"></a><span class="st">    </span>dplyr<span class="op">::</span><span class="kw">if_else</span>(</span>
<span id="cb51-21"><a href="#cb51-21"></a>      <span class="kw">nchar</span>(stringr<span class="op">::</span><span class="kw">str_subset</span>(., <span class="st">&quot;[:alpha:]|:&quot;</span>)) <span class="op">&lt;=</span><span class="st"> </span><span class="dv">4</span>,</span>
<span id="cb51-22"><a href="#cb51-22"></a>      .,</span>
<span id="cb51-23"><a href="#cb51-23"></a>      <span class="kw">f</span>(.)</span>
<span id="cb51-24"><a href="#cb51-24"></a>    ))</span>
<span id="cb51-25"><a href="#cb51-25"></a>  <span class="kw">return</span>(stringr<span class="op">::</span><span class="kw">str_c</span>(res, <span class="dt">collapse =</span> <span class="st">&quot; &quot;</span>))</span>
<span id="cb51-26"><a href="#cb51-26"></a>}</span>
<span id="cb51-27"><a href="#cb51-27"></a><span class="kw">typoglycemia</span>(<span class="st">&quot;I couldn&#39;t believe that I could actually understand what I was reading : the phenomenal power of the human mind.&quot;</span>)</span></code></pre></div>
<pre><code>#&gt; [1] &quot;I clndo&#39;ut bileeve that I colud aalulcty unentdsrad what I was rnedaig : the pheenanoml peowr of the huamn mdni.&quot;</code></pre>
</div>
</div>
<div id="unixコマンド" class="section level2" number="0.6">
<h2><span class="header-section-number">0.6</span> UNIXコマンド</h2>
<p>確認はやりません。<del>だってWindowsだもん</del></p>
<div id="section" class="section level3" number="0.6.1">
<h3><span class="header-section-number">0.6.1</span> 10~15</h3>
<p>素のテキストとして読んでもしょうがないので、以下のようなこと雰囲気でやります。</p>
<ul>
<li><ol start="10" style="list-style-type: decimal">
<li>行数のカウント</li>
</ol></li>
<li><ol start="11" style="list-style-type: decimal">
<li>タブをスペースに置換</li>
</ol></li>
<li><ol start="14" style="list-style-type: decimal">
<li>先頭からN行を出力</li>
</ol></li>
<li><ol start="15" style="list-style-type: decimal">
<li>末尾のN行を出力</li>
</ol></li>
</ul>
<p>以下の２つはやりませんが、たぶん<code>fread(temp, select = c(1, 2))</code>みたいな感じで取れます。</p>
<ul>
<li><ol start="12" style="list-style-type: decimal">
<li>1列目をcol1.txtに，2列目をcol2.txtに保存</li>
</ol></li>
<li><ol start="13" style="list-style-type: decimal">
<li>col1.txtとcol2.txtをマージ</li>
</ol></li>
</ul>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a>temp &lt;-<span class="st"> </span><span class="kw">tempfile</span>(<span class="dt">fileext =</span> <span class="st">&quot;.txt&quot;</span>)</span>
<span id="cb53-2"><a href="#cb53-2"></a><span class="kw">download.file</span>(<span class="st">&quot;https://nlp100.github.io/data/popular-names.txt&quot;</span>, temp)</span>
<span id="cb53-3"><a href="#cb53-3"></a>txt &lt;-<span class="st"> </span>temp <span class="op">%&gt;%</span></span>
<span id="cb53-4"><a href="#cb53-4"></a><span class="st">  </span>data.table<span class="op">::</span><span class="kw">fread</span>(</span>
<span id="cb53-5"><a href="#cb53-5"></a>    <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>,</span>
<span id="cb53-6"><a href="#cb53-6"></a>    <span class="dt">quote =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb53-7"><a href="#cb53-7"></a>    <span class="dt">header =</span> <span class="ot">FALSE</span>,</span>
<span id="cb53-8"><a href="#cb53-8"></a>    <span class="dt">col.names =</span> <span class="kw">c</span>(<span class="st">&quot;name&quot;</span>, <span class="st">&quot;sex&quot;</span>, <span class="st">&quot;num_of_people&quot;</span>, <span class="st">&quot;year&quot;</span>),</span>
<span id="cb53-9"><a href="#cb53-9"></a>    <span class="dt">colClasses =</span> <span class="kw">list</span>(<span class="st">&quot;character&quot;</span> =<span class="st"> </span><span class="dv">1</span>, <span class="st">&quot;character&quot;</span> =<span class="st"> </span><span class="dv">2</span>, <span class="st">&quot;integer&quot;</span> =<span class="st"> </span><span class="dv">3</span>, <span class="st">&quot;integer&quot;</span> =<span class="st"> </span><span class="dv">4</span>),</span>
<span id="cb53-10"><a href="#cb53-10"></a>    <span class="dt">data.table =</span> <span class="ot">FALSE</span></span>
<span id="cb53-11"><a href="#cb53-11"></a>  )</span>
<span id="cb53-12"><a href="#cb53-12"></a></span>
<span id="cb53-13"><a href="#cb53-13"></a><span class="kw">nrow</span>(txt)</span></code></pre></div>
<pre><code>#&gt; [1] 2780</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a><span class="kw">head</span>(txt, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>#&gt;   name sex num_of_people year
#&gt; 1 Mary   F          7065 1880
#&gt; 2 Anna   F          2604 1880
#&gt; 3 Emma   F          2003 1880</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a><span class="kw">tail</span>(txt, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>#&gt;       name sex num_of_people year
#&gt; 2778 Lucas   M         12585 2018
#&gt; 2779 Mason   M         12435 2018
#&gt; 2780 Logan   M         12352 2018</code></pre>
</div>
<div id="ファイルをn分割する" class="section level3" number="0.6.2">
<h3><span class="header-section-number">0.6.2</span> 16. ファイルをN分割する</h3>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a><span class="kw">split</span>(txt, <span class="kw">sort</span>(<span class="kw">rank</span>(<span class="kw">row.names</span>(txt)) <span class="op">%%</span><span class="st"> </span><span class="dv">5</span>)) <span class="op">%&gt;%</span></span>
<span id="cb59-2"><a href="#cb59-2"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw">map</span>(<span class="op">~</span><span class="st"> </span><span class="kw">head</span>(.)) <span class="op">%&gt;%</span></span>
<span id="cb59-3"><a href="#cb59-3"></a><span class="st">  </span><span class="kw">print</span>()</span></code></pre></div>
<pre><code>#&gt; $`0`
#&gt;        name sex num_of_people year
#&gt; 1      Mary   F          7065 1880
#&gt; 2      Anna   F          2604 1880
#&gt; 3      Emma   F          2003 1880
#&gt; 4 Elizabeth   F          1939 1880
#&gt; 5    Minnie   F          1746 1880
#&gt; 6  Margaret   F          1578 1880
#&gt; 
#&gt; $`1`
#&gt;       name sex num_of_people year
#&gt; 557 Joseph   M          3844 1907
#&gt; 558  Frank   M          2943 1907
#&gt; 559 Edward   M          2576 1907
#&gt; 560  Henry   M          2203 1907
#&gt; 561   Mary   F         18665 1908
#&gt; 562  Helen   F          8439 1908
#&gt; 
#&gt; $`2`
#&gt;         name sex num_of_people year
#&gt; 1113    John   M         47499 1935
#&gt; 1114 William   M         40198 1935
#&gt; 1115 Richard   M         33945 1935
#&gt; 1116 Charles   M         29983 1935
#&gt; 1117  Donald   M         29661 1935
#&gt; 1118  George   M         18559 1935
#&gt; 
#&gt; $`3`
#&gt;         name sex num_of_people year
#&gt; 1669  Sandra   F         21619 1963
#&gt; 1670 Cynthia   F         21593 1963
#&gt; 1671 Michael   M         83782 1963
#&gt; 1672    John   M         78625 1963
#&gt; 1673   David   M         78467 1963
#&gt; 1674   James   M         71322 1963
#&gt; 
#&gt; $`4`
#&gt;           name sex num_of_people year
#&gt; 2225  Samantha   F         25645 1991
#&gt; 2226     Sarah   F         25225 1991
#&gt; 2227 Stephanie   F         22774 1991
#&gt; 2228  Jennifer   F         20673 1991
#&gt; 2229 Elizabeth   F         20392 1991
#&gt; 2230     Emily   F         20308 1991</code></pre>
</div>
<div id="列目の文字列の異なり" class="section level3" number="0.6.3">
<h3><span class="header-section-number">0.6.3</span> 17. １列目の文字列の異なり</h3>
<p>省略</p>
</div>
<div id="各行を3コラム目の数値の降順にソート" class="section level3" number="0.6.4">
<h3><span class="header-section-number">0.6.4</span> 18. 各行を3コラム目の数値の降順にソート</h3>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a>txt <span class="op">%&gt;%</span></span>
<span id="cb61-2"><a href="#cb61-2"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">arrange</span>(<span class="kw">desc</span>(num_of_people)) <span class="op">%&gt;%</span></span>
<span id="cb61-3"><a href="#cb61-3"></a><span class="st">  </span><span class="kw">head</span>()</span></code></pre></div>
<pre><code>#&gt;      name sex num_of_people year
#&gt; 1   Linda   F         99689 1947
#&gt; 2   Linda   F         96211 1948
#&gt; 3   James   M         94757 1947
#&gt; 4 Michael   M         92704 1957
#&gt; 5  Robert   M         91640 1947
#&gt; 6   Linda   F         91016 1949</code></pre>
</div>
<div id="各行の1コラム目の文字列の出現頻度を求め出現頻度の高い順に並べる" class="section level3" number="0.6.5">
<h3><span class="header-section-number">0.6.5</span> 19. 各行の1コラム目の文字列の出現頻度を求め，出現頻度の高い順に並べる</h3>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a>purrr<span class="op">::</span><span class="kw">map_dfr</span>(txt<span class="op">$</span>name, <span class="cf">function</span>(name) {</span>
<span id="cb63-2"><a href="#cb63-2"></a>  stringr<span class="op">::</span><span class="kw">str_split</span>(name, <span class="dt">pattern =</span> <span class="st">&quot;&quot;</span>, <span class="dt">simplify =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></span>
<span id="cb63-3"><a href="#cb63-3"></a><span class="st">    </span><span class="kw">t</span>() <span class="op">%&gt;%</span></span>
<span id="cb63-4"><a href="#cb63-4"></a><span class="st">    </span><span class="kw">as.data.frame</span>(<span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</span>
<span id="cb63-5"><a href="#cb63-5"></a>}) <span class="op">%&gt;%</span></span>
<span id="cb63-6"><a href="#cb63-6"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">rename</span>(<span class="dt">string =</span> V1) <span class="op">%&gt;%</span></span>
<span id="cb63-7"><a href="#cb63-7"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(string) <span class="op">%&gt;%</span></span>
<span id="cb63-8"><a href="#cb63-8"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">count</span>(string, <span class="dt">sort =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></span>
<span id="cb63-9"><a href="#cb63-9"></a><span class="st">  </span><span class="kw">head</span>()</span></code></pre></div>
<pre><code>#&gt; # A tibble: 6 x 2
#&gt; # Groups:   string [6]
#&gt;   string     n
#&gt;   &lt;chr&gt;  &lt;int&gt;
#&gt; 1 a       2194
#&gt; 2 e       1554
#&gt; 3 r       1270
#&gt; 4 i       1183
#&gt; 5 h       1018
#&gt; 6 l        943</code></pre>
</div>
</div>
<div id="正規表現" class="section level2" number="0.7">
<h2><span class="header-section-number">0.7</span> 正規表現</h2>
<p>自然言語処理とはいったい</p>
<div id="jsonデータの読み込み" class="section level3" number="0.7.1">
<h3><span class="header-section-number">0.7.1</span> 20. JSONデータの読み込み</h3>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a>temp &lt;-<span class="st"> </span><span class="kw">tempfile</span>(<span class="dt">fileext =</span> <span class="st">&quot;.gz&quot;</span>)</span>
<span id="cb65-2"><a href="#cb65-2"></a><span class="kw">download.file</span>(<span class="st">&quot;https://nlp100.github.io/data/jawiki-country.json.gz&quot;</span>, temp)</span>
<span id="cb65-3"><a href="#cb65-3"></a>con &lt;-<span class="st"> </span><span class="kw">gzfile</span>(<span class="dt">description =</span> temp, <span class="dt">open =</span> <span class="st">&quot;rb&quot;</span>, <span class="dt">encoding =</span> <span class="st">&quot;UTF-8&quot;</span>)</span>
<span id="cb65-4"><a href="#cb65-4"></a>jsonfile &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_lines</span>(con) <span class="op">%&gt;%</span></span>
<span id="cb65-5"><a href="#cb65-5"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw">map_dfr</span>(<span class="op">~</span></span>
<span id="cb65-6"><a href="#cb65-6"></a><span class="st">  </span>jsonlite<span class="op">::</span><span class="kw">fromJSON</span>(.))</span>
<span id="cb65-7"><a href="#cb65-7"></a><span class="kw">close</span>(con)</span>
<span id="cb65-8"><a href="#cb65-8"></a></span>
<span id="cb65-9"><a href="#cb65-9"></a>jsonfile <span class="op">%&gt;%</span></span>
<span id="cb65-10"><a href="#cb65-10"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(title <span class="op">==</span><span class="st"> &quot;イギリス&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb65-11"><a href="#cb65-11"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">pull</span>(text) <span class="op">%&gt;%</span></span>
<span id="cb65-12"><a href="#cb65-12"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">glimpse</span>() <span class="co">## 長いので</span></span></code></pre></div>
<pre><code>#&gt;  chr &quot;{{redirect|UK}}\n{{redirect|英国|春秋時代の諸侯国|英 (春秋)}}\n{{Otheruses|ヨーロッパの国|長崎県・熊本県の郷土&quot;| __truncated__</code></pre>
</div>
<div id="カテゴリ名を含む行を抽出" class="section level3" number="0.7.2">
<h3><span class="header-section-number">0.7.2</span> 21. カテゴリ名を含む行を抽出</h3>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a>lines &lt;-<span class="st"> </span>jsonfile <span class="op">%&gt;%</span></span>
<span id="cb67-2"><a href="#cb67-2"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(title <span class="op">==</span><span class="st"> &quot;イギリス&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb67-3"><a href="#cb67-3"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">pull</span>(text) <span class="op">%&gt;%</span></span>
<span id="cb67-4"><a href="#cb67-4"></a><span class="st">  </span>readr<span class="op">::</span><span class="kw">read_lines</span>() <span class="op">%&gt;%</span></span>
<span id="cb67-5"><a href="#cb67-5"></a><span class="st">  </span>stringr<span class="op">::</span><span class="kw">str_subset</span>(stringr<span class="op">::</span><span class="kw">fixed</span>(<span class="st">&quot;[[Category:&quot;</span>))</span>
<span id="cb67-6"><a href="#cb67-6"></a>lines</span></code></pre></div>
<pre><code>#&gt; [1] &quot;[[Category:イギリス|*]]&quot;                
#&gt; [2] &quot;[[Category:イギリス連邦加盟国]]&quot;        
#&gt; [3] &quot;[[Category:英連邦王国|*]]&quot;              
#&gt; [4] &quot;[[Category:G8加盟国]]&quot;                  
#&gt; [5] &quot;[[Category:欧州連合加盟国|元]]&quot;         
#&gt; [6] &quot;[[Category:海洋国家]]&quot;                  
#&gt; [7] &quot;[[Category:現存する君主国]]&quot;            
#&gt; [8] &quot;[[Category:島国]]&quot;                      
#&gt; [9] &quot;[[Category:1801年に成立した国家・領域]]&quot;</code></pre>
<p>以下、回答略</p>

</div>
</div>
<div id="形態素解析" class="section level2" number="0.8">
<h2><span class="header-section-number">0.8</span> 形態素解析</h2>
<p>気をきかせて{readtext}で読みこんでおきます。</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a>temp &lt;-<span class="st"> </span><span class="kw">tempfile</span>(<span class="dt">fileext =</span> <span class="st">&quot;.txt&quot;</span>)</span>
<span id="cb69-2"><a href="#cb69-2"></a><span class="kw">download.file</span>(<span class="st">&quot;https://nlp100.github.io/data/neko.txt&quot;</span>, temp)</span>
<span id="cb69-3"><a href="#cb69-3"></a>neko &lt;-<span class="st"> </span>readtext<span class="op">::</span><span class="kw">readtext</span>(temp, <span class="dt">encoding =</span> <span class="st">&quot;UTF-8&quot;</span>)</span>
<span id="cb69-4"><a href="#cb69-4"></a>neko<span class="op">$</span>text[<span class="dv">1</span>] <span class="op">%&gt;%</span></span>
<span id="cb69-5"><a href="#cb69-5"></a><span class="st">  </span>readr<span class="op">::</span><span class="kw">read_lines</span>(<span class="dt">skip_empty_rows =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></span>
<span id="cb69-6"><a href="#cb69-6"></a><span class="st">  </span><span class="kw">length</span>()</span></code></pre></div>
<pre><code>#&gt; [1] 9210</code></pre>
<div id="形態素解析結果の読み込み" class="section level3" number="0.8.1">
<h3><span class="header-section-number">0.8.1</span> 30. 形態素解析結果の読み込み</h3>
<p>{RMeCab}はtaggerをラップしていて必要な情報を取りづらいので、<a href="https://paithiov909.github.io/rcppkagome/">paithiov909/RcppKagome</a>を使います。{RcppMeCab}でもできますが、公式のリポジトリのソースはWindows環境だとビルドにコケるのでUNIX系の環境が必要です（2021年1月現在）。</p>
<p>すべて解析すると時間がかかるのでここでは一部だけ使います。</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a>neko_txt_mecab &lt;-<span class="st"> </span>neko <span class="op">%&gt;%</span></span>
<span id="cb71-2"><a href="#cb71-2"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">slice</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">1000</span>) <span class="op">%&gt;%</span></span>
<span id="cb71-3"><a href="#cb71-3"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">pull</span>(<span class="st">&quot;text&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb71-4"><a href="#cb71-4"></a><span class="st">  </span>RcppKagome<span class="op">::</span><span class="kw">kagome</span>() <span class="op">%&gt;%</span></span>
<span id="cb71-5"><a href="#cb71-5"></a><span class="st">  </span>RcppKagome<span class="op">::</span><span class="kw">prettify</span>()</span>
<span id="cb71-6"><a href="#cb71-6"></a></span>
<span id="cb71-7"><a href="#cb71-7"></a><span class="kw">head</span>(neko_txt_mecab)</span></code></pre></div>
<pre><code>#&gt;   Sid Surface POS1   POS2 POS3 POS4 X5StageUse1 X5StageUse2 Original    Yomi1
#&gt; 1   1      一 名詞     数 &lt;NA&gt; &lt;NA&gt;        &lt;NA&gt;        &lt;NA&gt;       一     イチ
#&gt; 2   1    \n\n 記号   空白 &lt;NA&gt; &lt;NA&gt;        &lt;NA&gt;        &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt;
#&gt; 3   1      　 記号   空白 &lt;NA&gt; &lt;NA&gt;        &lt;NA&gt;        &lt;NA&gt;       　       　
#&gt; 4   1    吾輩 名詞 代名詞 一般 &lt;NA&gt;        &lt;NA&gt;        &lt;NA&gt;     吾輩 ワガハイ
#&gt; 5   1      は 助詞 係助詞 &lt;NA&gt; &lt;NA&gt;        &lt;NA&gt;        &lt;NA&gt;       は       ハ
#&gt; 6   1      猫 名詞   一般 &lt;NA&gt; &lt;NA&gt;        &lt;NA&gt;        &lt;NA&gt;       猫     ネコ
#&gt;      Yomi2
#&gt; 1     イチ
#&gt; 2     &lt;NA&gt;
#&gt; 3       　
#&gt; 4 ワガハイ
#&gt; 5       ワ
#&gt; 6     ネコ</code></pre>
</div>
<div id="動詞" class="section level3" number="0.8.2">
<h3><span class="header-section-number">0.8.2</span> 31. 動詞</h3>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a>neko_txt_mecab <span class="op">%&gt;%</span></span>
<span id="cb73-2"><a href="#cb73-2"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(POS1 <span class="op">==</span><span class="st"> &quot;動詞&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb73-3"><a href="#cb73-3"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(Surface) <span class="op">%&gt;%</span></span>
<span id="cb73-4"><a href="#cb73-4"></a><span class="st">  </span><span class="kw">head</span>()</span></code></pre></div>
<pre><code>#&gt;   Surface
#&gt; 1    生れ
#&gt; 2    つか
#&gt; 3      し
#&gt; 4    泣い
#&gt; 5      し
#&gt; 6    いる</code></pre>
</div>
<div id="動詞の原形" class="section level3" number="0.8.3">
<h3><span class="header-section-number">0.8.3</span> 32. 動詞の原形</h3>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a>neko_txt_mecab <span class="op">%&gt;%</span></span>
<span id="cb75-2"><a href="#cb75-2"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(POS1 <span class="op">==</span><span class="st"> &quot;動詞&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb75-3"><a href="#cb75-3"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(Original) <span class="op">%&gt;%</span></span>
<span id="cb75-4"><a href="#cb75-4"></a><span class="st">  </span><span class="kw">head</span>()</span></code></pre></div>
<pre><code>#&gt;   Original
#&gt; 1   生れる
#&gt; 2     つく
#&gt; 3     する
#&gt; 4     泣く
#&gt; 5     する
#&gt; 6     いる</code></pre>
</div>
<div id="aのb" class="section level3" number="0.8.4">
<h3><span class="header-section-number">0.8.4</span> 33. 「AのB」</h3>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a>neko_txt_mecab <span class="op">%&gt;%</span></span>
<span id="cb77-2"><a href="#cb77-2"></a><span class="st">  </span>tibble<span class="op">::</span><span class="kw">rowid_to_column</span>() <span class="op">%&gt;%</span></span>
<span id="cb77-3"><a href="#cb77-3"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(Surface <span class="op">==</span><span class="st"> &quot;の&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb77-4"><a href="#cb77-4"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">pull</span>(rowid) <span class="op">%&gt;%</span></span>
<span id="cb77-5"><a href="#cb77-5"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw">keep</span>(<span class="op">~</span><span class="st"> </span>neko_txt_mecab<span class="op">$</span>POS1[. <span class="op">-</span><span class="st"> </span><span class="dv">1</span>] <span class="op">==</span><span class="st"> &quot;名詞&quot;</span> <span class="op">&amp;&amp;</span><span class="st"> </span>neko_txt_mecab<span class="op">$</span>POS1[. <span class="op">+</span><span class="st"> </span><span class="dv">1</span>] <span class="op">==</span><span class="st"> &quot;名詞&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb77-6"><a href="#cb77-6"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw">map_chr</span>(<span class="op">~</span><span class="st"> </span>stringr<span class="op">::</span><span class="kw">str_c</span>(</span>
<span id="cb77-7"><a href="#cb77-7"></a>    neko_txt_mecab<span class="op">$</span>Surface[. <span class="op">-</span><span class="st"> </span><span class="dv">1</span>],</span>
<span id="cb77-8"><a href="#cb77-8"></a>    neko_txt_mecab<span class="op">$</span>Surface[.],</span>
<span id="cb77-9"><a href="#cb77-9"></a>    neko_txt_mecab<span class="op">$</span>Surface[. <span class="op">+</span><span class="st"> </span><span class="dv">1</span>],</span>
<span id="cb77-10"><a href="#cb77-10"></a>    <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb77-11"><a href="#cb77-11"></a>  )) <span class="op">%&gt;%</span></span>
<span id="cb77-12"><a href="#cb77-12"></a><span class="st">  </span><span class="kw">head</span>(30L)</span></code></pre></div>
<pre><code>#&gt;  [1] &quot;彼の掌&quot;     &quot;掌の上&quot;     &quot;書生の顔&quot;   &quot;はずの顔&quot;   &quot;顔の真中&quot;   &quot;穴の中&quot;    
#&gt;  [7] &quot;書生の掌&quot;   &quot;掌の裏&quot;     &quot;何の事&quot;     &quot;肝心の母親&quot; &quot;藁の上&quot;     &quot;笹原の中&quot;  
#&gt; [13] &quot;池の前&quot;     &quot;池の上&quot;     &quot;一樹の蔭&quot;   &quot;垣根の穴&quot;   &quot;隣家の三&quot;   &quot;時の通路&quot;  
#&gt; [19] &quot;一刻の猶予&quot; &quot;家の内&quot;     &quot;彼の書生&quot;   &quot;以外の人間&quot; &quot;前の書生&quot;   &quot;おさんの隙&quot;
#&gt; [25] &quot;おさんの三&quot; &quot;胸の痞&quot;     &quot;家の主人&quot;   &quot;主人の方&quot;   &quot;鼻の下&quot;     &quot;吾輩の顔&quot;</code></pre>
</div>
<div id="名詞の連接" class="section level3" number="0.8.5">
<h3><span class="header-section-number">0.8.5</span> 34. 名詞の連接</h3>
<p>これよくわからない。探索する処理が重いので<code>dplyr::sample_frac</code>でサンプルを減らしています。</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a>idx &lt;-<span class="st"> </span>neko_txt_mecab <span class="op">%&gt;%</span></span>
<span id="cb79-2"><a href="#cb79-2"></a><span class="st">  </span>tibble<span class="op">::</span><span class="kw">rowid_to_column</span>() <span class="op">%&gt;%</span></span>
<span id="cb79-3"><a href="#cb79-3"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(POS1 <span class="op">==</span><span class="st"> &quot;名詞&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb79-4"><a href="#cb79-4"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">sample_frac</span>(<span class="fl">0.1</span>) <span class="op">%&gt;%</span></span>
<span id="cb79-5"><a href="#cb79-5"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">pull</span>(rowid) <span class="op">%&gt;%</span></span>
<span id="cb79-6"><a href="#cb79-6"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw">discard</span>(<span class="op">~</span><span class="st"> </span>neko_txt_mecab<span class="op">$</span>POS1[. <span class="op">+</span><span class="st"> </span><span class="dv">1</span>] <span class="op">!=</span><span class="st"> &quot;名詞&quot;</span>)</span>
<span id="cb79-7"><a href="#cb79-7"></a></span>
<span id="cb79-8"><a href="#cb79-8"></a>search_in &lt;-<span class="st"> </span>idx</span>
<span id="cb79-9"><a href="#cb79-9"></a></span>
<span id="cb79-10"><a href="#cb79-10"></a>purrr<span class="op">::</span><span class="kw">map_chr</span>(search_in, <span class="cf">function</span>(idx) {</span>
<span id="cb79-11"><a href="#cb79-11"></a>  itr &lt;-<span class="st"> </span>idx</span>
<span id="cb79-12"><a href="#cb79-12"></a>  res &lt;-<span class="st"> </span>stringr<span class="op">::</span><span class="kw">str_c</span>(neko_txt_mecab<span class="op">$</span>Surface[idx])</span>
<span id="cb79-13"><a href="#cb79-13"></a>  <span class="cf">while</span> (neko_txt_mecab<span class="op">$</span>POS1[itr <span class="op">+</span><span class="st"> </span><span class="dv">1</span>] <span class="op">==</span><span class="st"> &quot;名詞&quot;</span>) {</span>
<span id="cb79-14"><a href="#cb79-14"></a>    res &lt;-<span class="st"> </span>stringr<span class="op">::</span><span class="kw">str_c</span>(res, neko_txt_mecab<span class="op">$</span>Surface[itr <span class="op">+</span><span class="st"> </span><span class="dv">1</span>])</span>
<span id="cb79-15"><a href="#cb79-15"></a>    search_in &lt;&lt;-<span class="st"> </span>purrr<span class="op">::</span><span class="kw">discard</span>(search_in, <span class="op">~</span><span class="st"> </span>. <span class="op">==</span><span class="st"> </span>itr <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)</span>
<span id="cb79-16"><a href="#cb79-16"></a>    itr &lt;-<span class="st"> </span>itr <span class="op">+</span><span class="st"> </span><span class="dv">1</span></span>
<span id="cb79-17"><a href="#cb79-17"></a>    <span class="cf">next</span></span>
<span id="cb79-18"><a href="#cb79-18"></a>  }</span>
<span id="cb79-19"><a href="#cb79-19"></a>  <span class="kw">return</span>(res)</span>
<span id="cb79-20"><a href="#cb79-20"></a>}) <span class="op">%&gt;%</span></span>
<span id="cb79-21"><a href="#cb79-21"></a><span class="st">  </span><span class="kw">head</span>(30L)</span></code></pre></div>
<pre><code>#&gt;  [1] &quot;腹這&quot;           &quot;三平さん&quot;       &quot;巴理&quot;           &quot;三人&quot;          
#&gt;  [5] &quot;利亜&quot;           &quot;かな顔&quot;         &quot;式体操&quot;         &quot;一部隊&quot;        
#&gt;  [9] &quot;邵康節&quot;         &quot;揉療治&quot;         &quot;公平君万歳&quot;     &quot;亭君&quot;          
#&gt; [13] &quot;区域内&quot;         &quot;猫属&quot;           &quot;蒸籠二つ&quot;       &quot;顔付&quot;          
#&gt; [17] &quot;殿下歓迎&quot;       &quot;珍報&quot;           &quot;旦那様&quot;         &quot;陰士&quot;          
#&gt; [21] &quot;それぎりですか&quot; &quot;八千八百八十本&quot; &quot;月十円&quot;         &quot;三日&quot;          
#&gt; [25] &quot;一番利口&quot;       &quot;天道公平&quot;       &quot;どこそこ&quot;       &quot;一手ごと&quot;      
#&gt; [29] &quot;二十五日&quot;       &quot;苦沙弥先生&quot;</code></pre>
</div>
<div id="単語の出現頻度" class="section level3" number="0.8.6">
<h3><span class="header-section-number">0.8.6</span> 35. 単語の出現頻度</h3>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1"></a>neko_txt_mecab <span class="op">%&gt;%</span></span>
<span id="cb81-2"><a href="#cb81-2"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(Original) <span class="op">%&gt;%</span></span>
<span id="cb81-3"><a href="#cb81-3"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">count</span>(Original, <span class="dt">sort =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></span>
<span id="cb81-4"><a href="#cb81-4"></a><span class="st">  </span><span class="kw">head</span>()</span></code></pre></div>
<pre><code>#&gt; # A tibble: 6 x 2
#&gt; # Groups:   Original [6]
#&gt;   Original     n
#&gt;   &lt;chr&gt;    &lt;int&gt;
#&gt; 1 &lt;NA&gt;     11450
#&gt; 2 の        9194
#&gt; 3 。        7486
#&gt; 4 て        6848
#&gt; 5 、        6773
#&gt; 6 は        6421</code></pre>
</div>
<div id="頻度上位10語" class="section level3" number="0.8.7">
<h3><span class="header-section-number">0.8.7</span> 36. 頻度上位10語</h3>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a>neko_txt_mecab <span class="op">%&gt;%</span></span>
<span id="cb83-2"><a href="#cb83-2"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(Original) <span class="op">%&gt;%</span></span>
<span id="cb83-3"><a href="#cb83-3"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">count</span>(Original, <span class="dt">sort =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></span>
<span id="cb83-4"><a href="#cb83-4"></a><span class="st">  </span><span class="kw">head</span>(<span class="dv">10</span>) <span class="op">%&gt;%</span></span>
<span id="cb83-5"><a href="#cb83-5"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">reorder</span>(Original, <span class="op">-</span>n), <span class="dt">y =</span> n)) <span class="op">+</span></span>
<span id="cb83-6"><a href="#cb83-6"></a><span class="st">  </span><span class="kw">geom_col</span>() <span class="op">+</span></span>
<span id="cb83-7"><a href="#cb83-7"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Surface form&quot;</span>) <span class="op">+</span></span>
<span id="cb83-8"><a href="#cb83-8"></a><span class="st">  </span><span class="kw">theme_light</span>()</span></code></pre></div>
<p><img src="nlp100-knocks-r_files/figure-html/morph-36-1.png" width="672" /></p>
</div>
<div id="猫と共起頻度の高い上位10語" class="section level3" number="0.8.8">
<h3><span class="header-section-number">0.8.8</span> 37. 「猫」と共起頻度の高い上位10語</h3>
<p>解釈のしかたが複数あるけれど、はじめに形態素解析する段階で文区切りを無視してしまったので、ここではbi-gramを数えてお茶をにごします。</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a>neko_txt_mecab <span class="op">%&gt;%</span></span>
<span id="cb84-2"><a href="#cb84-2"></a><span class="st">  </span>tibble<span class="op">::</span><span class="kw">rowid_to_column</span>() <span class="op">%&gt;%</span></span>
<span id="cb84-3"><a href="#cb84-3"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(Surface <span class="op">==</span><span class="st"> &quot;猫&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb84-4"><a href="#cb84-4"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">Colocation =</span> stringr<span class="op">::</span><span class="kw">str_c</span>(Surface, neko_txt_mecab<span class="op">$</span>Surface[rowid <span class="op">+</span><span class="st"> </span><span class="dv">1</span>], <span class="dt">sep =</span> <span class="st">&quot; - &quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb84-5"><a href="#cb84-5"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(Colocation) <span class="op">%&gt;%</span></span>
<span id="cb84-6"><a href="#cb84-6"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">count</span>(Colocation, <span class="dt">sort =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></span>
<span id="cb84-7"><a href="#cb84-7"></a><span class="st">  </span><span class="kw">head</span>(10L) <span class="op">%&gt;%</span></span>
<span id="cb84-8"><a href="#cb84-8"></a><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">reorder</span>(Colocation, <span class="op">-</span>n), <span class="dt">y =</span> n)) <span class="op">+</span></span>
<span id="cb84-9"><a href="#cb84-9"></a><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">geom_col</span>() <span class="op">+</span></span>
<span id="cb84-10"><a href="#cb84-10"></a><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Colocation&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Freq&quot;</span>) <span class="op">+</span></span>
<span id="cb84-11"><a href="#cb84-11"></a><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme_light</span>()</span></code></pre></div>
<p><img src="nlp100-knocks-r_files/figure-html/morph-37-1.png" width="672" /></p>
</div>
<div id="ヒストグラム" class="section level3" number="0.8.9">
<h3><span class="header-section-number">0.8.9</span> 38. ヒストグラム</h3>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1"></a>neko_txt_mecab <span class="op">%&gt;%</span></span>
<span id="cb85-2"><a href="#cb85-2"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(Original) <span class="op">%&gt;%</span></span>
<span id="cb85-3"><a href="#cb85-3"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">count</span>(Original) <span class="op">%&gt;%</span></span>
<span id="cb85-4"><a href="#cb85-4"></a><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">reorder</span>(Original, <span class="op">-</span>n), <span class="dt">y =</span> n)) <span class="op">+</span></span>
<span id="cb85-5"><a href="#cb85-5"></a><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">geom_col</span>() <span class="op">+</span></span>
<span id="cb85-6"><a href="#cb85-6"></a><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Freq&quot;</span>) <span class="op">+</span></span>
<span id="cb85-7"><a href="#cb85-7"></a><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme_light</span>()</span></code></pre></div>
<p><img src="nlp100-knocks-r_files/figure-html/morph-38-1.png" width="672" /></p>
</div>
<div id="zipfの法則" class="section level3" number="0.8.10">
<h3><span class="header-section-number">0.8.10</span> 39. Zipfの法則</h3>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1"></a>count &lt;-<span class="st"> </span>neko_txt_mecab <span class="op">%&gt;%</span></span>
<span id="cb86-2"><a href="#cb86-2"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(Original) <span class="op">%&gt;%</span></span>
<span id="cb86-3"><a href="#cb86-3"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">count</span>(Original) <span class="op">%&gt;%</span></span>
<span id="cb86-4"><a href="#cb86-4"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">ungroup</span>()</span>
<span id="cb86-5"><a href="#cb86-5"></a>count <span class="op">%&gt;%</span></span>
<span id="cb86-6"><a href="#cb86-6"></a><span class="st">  </span>tibble<span class="op">::</span><span class="kw">rowid_to_column</span>() <span class="op">%&gt;%</span></span>
<span id="cb86-7"><a href="#cb86-7"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">rank =</span> <span class="kw">nrow</span>(count) <span class="op">+</span><span class="st"> </span><span class="dv">1</span> <span class="op">-</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">min_rank</span>(count<span class="op">$</span>n)[rowid]) <span class="op">%&gt;%</span></span>
<span id="cb86-8"><a href="#cb86-8"></a><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> rank, <span class="dt">y =</span> n)) <span class="op">+</span></span>
<span id="cb86-9"><a href="#cb86-9"></a><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb86-10"><a href="#cb86-10"></a><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Rank of Freq&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Freq&quot;</span>) <span class="op">+</span></span>
<span id="cb86-11"><a href="#cb86-11"></a><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">scale_x_log10</span>() <span class="op">+</span></span>
<span id="cb86-12"><a href="#cb86-12"></a><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">scale_y_log10</span>() <span class="op">+</span></span>
<span id="cb86-13"><a href="#cb86-13"></a><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme_light</span>()</span></code></pre></div>
<p><img src="nlp100-knocks-r_files/figure-html/morph-39-1.png" width="672" /></p>

</div>
</div>
<div id="係り受け解析" class="section level2" number="0.9">
<h2><span class="header-section-number">0.9</span> 係り受け解析</h2>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1"></a>temp &lt;-<span class="st"> </span><span class="kw">tempfile</span>(<span class="dt">fileext =</span> <span class="st">&quot;.zip&quot;</span>)</span>
<span id="cb87-2"><a href="#cb87-2"></a><span class="kw">download.file</span>(<span class="st">&quot;https://nlp100.github.io/data/ai.ja.zip&quot;</span>, temp)</span>
<span id="cb87-3"><a href="#cb87-3"></a>temp &lt;-<span class="st"> </span><span class="kw">unzip</span>(temp, <span class="dt">exdir =</span> <span class="kw">tempdir</span>())</span>
<span id="cb87-4"><a href="#cb87-4"></a>ai_ja &lt;-<span class="st"> </span>readtext<span class="op">::</span><span class="kw">readtext</span>(temp[<span class="dv">1</span>], <span class="dt">encoding =</span> <span class="st">&quot;UTF-8&quot;</span>)</span>
<span id="cb87-5"><a href="#cb87-5"></a>ai_ja<span class="op">$</span>text[<span class="dv">1</span>] <span class="op">%&gt;%</span></span>
<span id="cb87-6"><a href="#cb87-6"></a><span class="st">  </span>readr<span class="op">::</span><span class="kw">read_lines</span>(<span class="dt">skip_empty_rows =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></span>
<span id="cb87-7"><a href="#cb87-7"></a><span class="st">  </span><span class="kw">length</span>()</span></code></pre></div>
<pre><code>#&gt; [1] 83</code></pre>
<div id="係り受け解析結果の読み込み形態素" class="section level3" number="0.9.1">
<h3><span class="header-section-number">0.9.1</span> 40. 係り受け解析結果の読み込み（形態素）</h3>
<p>ここでも<a href="https://paithiov909.github.io/pipian/">オレオレパッケージ</a>を使います。設問の通りにクラスを実装したりはしませんが、だいたい似たような情報を出力できます。ただし、ここでは解析するのはごく一部だけにしています。</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1"></a>res &lt;-<span class="st"> </span>ai_ja<span class="op">$</span>text[<span class="dv">1</span>] <span class="op">%&gt;%</span></span>
<span id="cb89-2"><a href="#cb89-2"></a><span class="st">  </span>readr<span class="op">::</span><span class="kw">read_lines</span>(<span class="dt">skip_empty_rows =</span> <span class="ot">TRUE</span>)</span>
<span id="cb89-3"><a href="#cb89-3"></a>res &lt;-<span class="st"> </span>res <span class="op">%&gt;%</span></span>
<span id="cb89-4"><a href="#cb89-4"></a><span class="st">  </span><span class="kw">sample</span>(20L) <span class="op">%&gt;%</span></span>
<span id="cb89-5"><a href="#cb89-5"></a><span class="st">  </span><span class="kw">iconv</span>(<span class="dt">from =</span> <span class="st">&quot;UTF-8&quot;</span>, <span class="dt">to =</span> <span class="st">&quot;CP932&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb89-6"><a href="#cb89-6"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw">discard</span>(<span class="op">~</span><span class="st"> </span><span class="kw">is.na</span>(.)) <span class="op">%&gt;%</span></span>
<span id="cb89-7"><a href="#cb89-7"></a><span class="st">  </span>pipian<span class="op">::</span><span class="kw">cabochaFlatXML</span>()</span>
<span id="cb89-8"><a href="#cb89-8"></a></span>
<span id="cb89-9"><a href="#cb89-9"></a>res &lt;-<span class="st"> </span>pipian<span class="op">::</span><span class="kw">CabochaR</span>(res)<span class="op">$</span><span class="kw">as_tibble</span>()</span>
<span id="cb89-10"><a href="#cb89-10"></a><span class="kw">head</span>(res)</span></code></pre></div>
<pre><code>#&gt; # A tibble: 6 x 20
#&gt;   sentence_idx chunk_idx D1    D2    rel   score head  func  tok_idx ne_value word 
#&gt;          &lt;int&gt;     &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;
#&gt; 1            1         3 0     1     D     1.07~ 1     2           1 I-DATE   年代 
#&gt; 2            1         3 0     1     D     1.07~ 1     2           2 O        と   
#&gt; 3            1         7 1     2     D     2.13~ 4     5           4 O        年代 
#&gt; 4            1         7 1     2     D     2.13~ 4     5           5 O        の   
#&gt; 5            1        11 2     8     D     2.42~ 6     7           6 O        間   
#&gt; 6            1        11 2     8     D     2.42~ 6     7           7 O        に   
#&gt; # ... with 9 more variables: POS1 &lt;chr&gt;, POS2 &lt;chr&gt;, POS3 &lt;chr&gt;, POS4 &lt;chr&gt;,
#&gt; #   X5StageUse1 &lt;chr&gt;, X5StageUse2 &lt;chr&gt;, Original &lt;chr&gt;, Yomi1 &lt;chr&gt;, Yomi2 &lt;chr&gt;</code></pre>
<p>3文目の形態素列</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a>res <span class="op">%&gt;%</span></span>
<span id="cb91-2"><a href="#cb91-2"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(sentence_idx <span class="op">==</span><span class="st"> </span><span class="dv">3</span>) <span class="op">%&gt;%</span></span>
<span id="cb91-3"><a href="#cb91-3"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(word)</span></code></pre></div>
<pre><code>#&gt; # A tibble: 78 x 1
#&gt;    word    
#&gt;    &lt;chr&gt;   
#&gt;  1 相愛    
#&gt;  2 大学    
#&gt;  3 人文学部
#&gt;  4 教授    
#&gt;  5 の      
#&gt;  6 釈      
#&gt;  7 徹      
#&gt;  8 宗      
#&gt;  9 は      
#&gt; 10 「      
#&gt; # ... with 68 more rows</code></pre>
</div>
<div id="係り受け解析結果の読み込み文節係り受け" class="section level3" number="0.9.2">
<h3><span class="header-section-number">0.9.2</span> 41. 係り受け解析結果の読み込み（文節・係り受け）</h3>
<p>省きます（必要なとき都度探す感じで）。</p>
</div>
<div id="係り元と係り先の文節の表示" class="section level3" number="0.9.3">
<h3><span class="header-section-number">0.9.3</span> 42. 係り元と係り先の文節の表示</h3>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1"></a>memo &lt;-<span class="st"> </span>res <span class="op">%&gt;%</span></span>
<span id="cb93-2"><a href="#cb93-2"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(POS1 <span class="op">!=</span><span class="st"> &quot;記号&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb93-3"><a href="#cb93-3"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(sentence_idx, chunk_idx) <span class="op">%&gt;%</span></span>
<span id="cb93-4"><a href="#cb93-4"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(</span>
<span id="cb93-5"><a href="#cb93-5"></a>    <span class="dt">chunk =</span> stringr<span class="op">::</span><span class="kw">str_c</span>(</span>
<span id="cb93-6"><a href="#cb93-6"></a>      word,</span>
<span id="cb93-7"><a href="#cb93-7"></a>      <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb93-8"><a href="#cb93-8"></a>    )</span>
<span id="cb93-9"><a href="#cb93-9"></a>  ) <span class="op">%&gt;%</span></span>
<span id="cb93-10"><a href="#cb93-10"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></span>
<span id="cb93-11"><a href="#cb93-11"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(sentence_idx, chunk_idx, D1, D2, chunk) <span class="op">%&gt;%</span></span>
<span id="cb93-12"><a href="#cb93-12"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">distinct</span>()</span>
<span id="cb93-13"><a href="#cb93-13"></a></span>
<span id="cb93-14"><a href="#cb93-14"></a>memo <span class="op">%&gt;%</span></span>
<span id="cb93-15"><a href="#cb93-15"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(D2 <span class="op">!=</span><span class="st"> </span><span class="dv">-1</span>) <span class="op">%&gt;%</span></span>
<span id="cb93-16"><a href="#cb93-16"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(sentence_idx, chunk_idx, D1) <span class="op">%&gt;%</span></span>
<span id="cb93-17"><a href="#cb93-17"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">collocation =</span> stringr<span class="op">::</span><span class="kw">str_c</span>(</span>
<span id="cb93-18"><a href="#cb93-18"></a>    chunk,</span>
<span id="cb93-19"><a href="#cb93-19"></a>    memo<span class="op">$</span>chunk[memo<span class="op">$</span>sentence_idx <span class="op">==</span><span class="st"> </span>.data<span class="op">$</span>sentence_idx <span class="op">&amp;</span><span class="st"> </span>memo<span class="op">$</span>D1 <span class="op">==</span><span class="st"> </span>.data<span class="op">$</span>D2],</span>
<span id="cb93-20"><a href="#cb93-20"></a>    <span class="dt">sep =</span> <span class="st">&quot; &quot;</span></span>
<span id="cb93-21"><a href="#cb93-21"></a>  )) <span class="op">%&gt;%</span></span>
<span id="cb93-22"><a href="#cb93-22"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></span>
<span id="cb93-23"><a href="#cb93-23"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(chunk, collocation) <span class="op">%&gt;%</span></span>
<span id="cb93-24"><a href="#cb93-24"></a><span class="st">  </span><span class="kw">head</span>()</span></code></pre></div>
<pre><code>#&gt; # A tibble: 6 x 2
#&gt;   chunk          collocation              
#&gt;   &lt;chr&gt;          &lt;chr&gt;                    
#&gt; 1 年代と         年代と 年代の            
#&gt; 2 年代の         年代の 間に              
#&gt; 3 間に           間に 示した              
#&gt; 4 ジョエルは     ジョエルは 示した        
#&gt; 5 プログラム中で プログラム中で 示した    
#&gt; 6 積分問題での   積分問題での 記号的推論の</code></pre>
</div>
<div id="名詞を含む文節が動詞を含む文節に係るものを抽出" class="section level3" number="0.9.4">
<h3><span class="header-section-number">0.9.4</span> 43. 名詞を含む文節が動詞を含む文節に係るものを抽出</h3>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a>memo &lt;-<span class="st"> </span>res <span class="op">%&gt;%</span></span>
<span id="cb95-2"><a href="#cb95-2"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(sentence_idx, chunk_idx) <span class="op">%&gt;%</span></span>
<span id="cb95-3"><a href="#cb95-3"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(</span>
<span id="cb95-4"><a href="#cb95-4"></a>    <span class="dt">chunk =</span> stringr<span class="op">::</span><span class="kw">str_c</span>(</span>
<span id="cb95-5"><a href="#cb95-5"></a>      word,</span>
<span id="cb95-6"><a href="#cb95-6"></a>      <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb95-7"><a href="#cb95-7"></a>    )</span>
<span id="cb95-8"><a href="#cb95-8"></a>  ) <span class="op">%&gt;%</span></span>
<span id="cb95-9"><a href="#cb95-9"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></span>
<span id="cb95-10"><a href="#cb95-10"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">tag =</span> POS1 <span class="op">==</span><span class="st"> &quot;動詞&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb95-11"><a href="#cb95-11"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(sentence_idx, chunk_idx, D1, D2, chunk, POS1, tag) <span class="op">%&gt;%</span></span>
<span id="cb95-12"><a href="#cb95-12"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">distinct</span>()</span>
<span id="cb95-13"><a href="#cb95-13"></a></span>
<span id="cb95-14"><a href="#cb95-14"></a>memo <span class="op">%&gt;%</span></span>
<span id="cb95-15"><a href="#cb95-15"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(POS1 <span class="op">==</span><span class="st"> &quot;名詞&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb95-16"><a href="#cb95-16"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(D2 <span class="op">!=</span><span class="st"> </span><span class="dv">-1</span>) <span class="op">%&gt;%</span></span>
<span id="cb95-17"><a href="#cb95-17"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(sentence_idx, chunk_idx, D1) <span class="op">%&gt;%</span></span>
<span id="cb95-18"><a href="#cb95-18"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">collocation =</span> stringr<span class="op">::</span><span class="kw">str_c</span>(</span>
<span id="cb95-19"><a href="#cb95-19"></a>    chunk,</span>
<span id="cb95-20"><a href="#cb95-20"></a>    memo<span class="op">$</span>chunk[memo<span class="op">$</span>sentence_idx <span class="op">==</span><span class="st"> </span>.data<span class="op">$</span>sentence_idx <span class="op">&amp;</span><span class="st"> </span>memo<span class="op">$</span>D1 <span class="op">==</span><span class="st"> </span>.data<span class="op">$</span>D2 <span class="op">&amp;</span><span class="st"> </span>memo<span class="op">$</span>tag <span class="op">==</span><span class="st"> </span><span class="ot">TRUE</span>],</span>
<span id="cb95-21"><a href="#cb95-21"></a>    <span class="dt">sep =</span> <span class="st">&quot; &quot;</span></span>
<span id="cb95-22"><a href="#cb95-22"></a>  )) <span class="op">%&gt;%</span></span>
<span id="cb95-23"><a href="#cb95-23"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></span>
<span id="cb95-24"><a href="#cb95-24"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(chunk, collocation) <span class="op">%&gt;%</span></span>
<span id="cb95-25"><a href="#cb95-25"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(chunk <span class="op">!=</span><span class="st"> </span>collocation) <span class="op">%&gt;%</span></span>
<span id="cb95-26"><a href="#cb95-26"></a><span class="st">  </span><span class="kw">head</span>()</span></code></pre></div>
<pre><code>#&gt; # A tibble: 6 x 2
#&gt;   chunk                collocation                  
#&gt;   &lt;chr&gt;                &lt;chr&gt;                        
#&gt; 1 間に、               間に、 示した。              
#&gt; 2 ジョエル・は         ジョエル・は 示した。        
#&gt; 3 プログラム中で       プログラム中で 示した。      
#&gt; 4 パワーを             パワーを 示した。            
#&gt; 5 『パーセプトロン』を 『パーセプトロン』を 出版して
#&gt; 6 出版して             出版して 示し、</code></pre>
</div>
<div id="係り受け木の可視化" class="section level3" number="0.9.5">
<h3><span class="header-section-number">0.9.5</span> 44. 係り受け木の可視化</h3>
<p>そういう関数があるのでサボります。</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a>memo &lt;-<span class="st"> </span>ai_ja<span class="op">$</span>text[<span class="dv">1</span>] <span class="op">%&gt;%</span></span>
<span id="cb97-2"><a href="#cb97-2"></a><span class="st">  </span>readr<span class="op">::</span><span class="kw">read_lines</span>(<span class="dt">skip_empty_rows =</span> <span class="ot">TRUE</span>)</span>
<span id="cb97-3"><a href="#cb97-3"></a>memo &lt;-<span class="st"> </span>memo[<span class="dv">12</span>] <span class="op">%&gt;%</span></span>
<span id="cb97-4"><a href="#cb97-4"></a><span class="st">  </span><span class="kw">iconv</span>(<span class="dt">from =</span> <span class="st">&quot;UTF-8&quot;</span>, <span class="dt">to =</span> <span class="st">&quot;CP932&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb97-5"><a href="#cb97-5"></a><span class="st">  </span>pipian<span class="op">::</span><span class="kw">CabochaTbl</span>()</span>
<span id="cb97-6"><a href="#cb97-6"></a>memo<span class="op">$</span><span class="kw">plot</span>()</span></code></pre></div>
<p><img src="nlp100-knocks-r_files/figure-html/dep-44-1.png" width="672" /></p>
</div>
<div id="動詞の格パターンの抽出" class="section level3" number="0.9.6">
<h3><span class="header-section-number">0.9.6</span> 45. 動詞の格パターンの抽出</h3>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1"></a>memo &lt;-<span class="st"> </span>res <span class="op">%&gt;%</span></span>
<span id="cb98-2"><a href="#cb98-2"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(sentence_idx, chunk_idx, D1, D2, POS1, Original)</span>
<span id="cb98-3"><a href="#cb98-3"></a></span>
<span id="cb98-4"><a href="#cb98-4"></a>pattern &lt;-<span class="st"> </span>memo <span class="op">%&gt;%</span></span>
<span id="cb98-5"><a href="#cb98-5"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(POS1 <span class="op">==</span><span class="st"> &quot;動詞&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb98-6"><a href="#cb98-6"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(sentence_idx, chunk_idx, D1) <span class="op">%&gt;%</span></span>
<span id="cb98-7"><a href="#cb98-7"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_map</span>(<span class="op">~</span><span class="st"> </span>.x <span class="op">%&gt;%</span></span>
<span id="cb98-8"><a href="#cb98-8"></a><span class="st">    </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">collocation =</span> stringr<span class="op">::</span><span class="kw">str_c</span>(</span>
<span id="cb98-9"><a href="#cb98-9"></a>      <span class="st">&quot;&quot;</span>,</span>
<span id="cb98-10"><a href="#cb98-10"></a>      memo<span class="op">$</span>Original[memo<span class="op">$</span>sentence_idx <span class="op">==</span><span class="st"> </span>.y<span class="op">$</span>sentence_idx <span class="op">&amp;</span><span class="st"> </span>memo<span class="op">$</span>D2 <span class="op">==</span><span class="st"> </span>.y<span class="op">$</span>D1 <span class="op">&amp;</span><span class="st"> </span>memo<span class="op">$</span>POS1 <span class="op">==</span><span class="st"> &quot;助詞&quot;</span>],</span>
<span id="cb98-11"><a href="#cb98-11"></a>      <span class="dt">collapse =</span> <span class="st">&quot; &quot;</span></span>
<span id="cb98-12"><a href="#cb98-12"></a>    ))) <span class="op">%&gt;%</span></span>
<span id="cb98-13"><a href="#cb98-13"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw">map_dfr</span>(<span class="op">~</span>.) <span class="op">%&gt;%</span></span>
<span id="cb98-14"><a href="#cb98-14"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(Original, collocation)</span>
<span id="cb98-15"><a href="#cb98-15"></a></span>
<span id="cb98-16"><a href="#cb98-16"></a>pattern</span></code></pre></div>
<pre><code>#&gt; # A tibble: 192 x 2
#&gt;    Original collocation
#&gt;    &lt;chr&gt;    &lt;chr&gt;      
#&gt;  1 示す     に は で を
#&gt;  2 する     を         
#&gt;  3 示す     は て を   
#&gt;  4 する     は を      
#&gt;  5 する     は を      
#&gt;  6 示す     を         
#&gt;  7 呼ぶ     と         
#&gt;  8 れる     と         
#&gt;  9 ある     は も      
#&gt; 10 する     を で      
#&gt; # ... with 182 more rows</code></pre>
<p>「行う」「なる」「与える」という動詞の格パターン</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1"></a>pattern <span class="op">%&gt;%</span></span>
<span id="cb100-2"><a href="#cb100-2"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(Original <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;行う&quot;</span>, <span class="st">&quot;なる&quot;</span>, <span class="st">&quot;与える&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb100-3"><a href="#cb100-3"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(Original, collocation) <span class="op">%&gt;%</span></span>
<span id="cb100-4"><a href="#cb100-4"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">count</span>()</span></code></pre></div>
<pre><code>#&gt; # A tibble: 16 x 3
#&gt; # Groups:   Original, collocation [16]
#&gt;    Original collocation           n
#&gt;    &lt;chr&gt;    &lt;chr&gt;             &lt;int&gt;
#&gt;  1 なる     が と                 1
#&gt;  2 なる     が にとって と は     1
#&gt;  3 なる     で は                 1
#&gt;  4 なる     と                    1
#&gt;  5 なる     に は も              1
#&gt;  6 なる     は て                 1
#&gt;  7 なる     は に                 1
#&gt;  8 なる     は は                 1
#&gt;  9 なる     も                    1
#&gt; 10 行う     て に を              1
#&gt; 11 行う     に により に を       1
#&gt; 12 行う     に は で が           1
#&gt; 13 行う     は を                 1
#&gt; 14 行う     まで を               1
#&gt; 15 行う     を                    2
#&gt; 16 与える   が に                 1</code></pre>
</div>
<div id="動詞の格フレーム情報の抽出" class="section level3" number="0.9.7">
<h3><span class="header-section-number">0.9.7</span> 46. 動詞の格フレーム情報の抽出</h3>
<p>これを見ると助詞の連続が要件通りに表示できていないことがわかりますが、疲れたのであきらめます。</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1"></a>memo &lt;-<span class="st"> </span>res <span class="op">%&gt;%</span></span>
<span id="cb102-2"><a href="#cb102-2"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(sentence_idx, chunk_idx) <span class="op">%&gt;%</span></span>
<span id="cb102-3"><a href="#cb102-3"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(</span>
<span id="cb102-4"><a href="#cb102-4"></a>    <span class="dt">chunk =</span> stringr<span class="op">::</span><span class="kw">str_c</span>(</span>
<span id="cb102-5"><a href="#cb102-5"></a>      word,</span>
<span id="cb102-6"><a href="#cb102-6"></a>      <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb102-7"><a href="#cb102-7"></a>    )</span>
<span id="cb102-8"><a href="#cb102-8"></a>  ) <span class="op">%&gt;%</span></span>
<span id="cb102-9"><a href="#cb102-9"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></span>
<span id="cb102-10"><a href="#cb102-10"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(sentence_idx, chunk_idx, D1, D2, POS1, Original, chunk)</span>
<span id="cb102-11"><a href="#cb102-11"></a></span>
<span id="cb102-12"><a href="#cb102-12"></a>pattern &lt;-<span class="st"> </span>memo <span class="op">%&gt;%</span></span>
<span id="cb102-13"><a href="#cb102-13"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(POS1 <span class="op">==</span><span class="st"> &quot;動詞&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb102-14"><a href="#cb102-14"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(sentence_idx, chunk_idx, D1) <span class="op">%&gt;%</span></span>
<span id="cb102-15"><a href="#cb102-15"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_map</span>(<span class="op">~</span><span class="st"> </span>.x <span class="op">%&gt;%</span></span>
<span id="cb102-16"><a href="#cb102-16"></a><span class="st">    </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">collocation =</span> stringr<span class="op">::</span><span class="kw">str_c</span>(</span>
<span id="cb102-17"><a href="#cb102-17"></a>      <span class="st">&quot;&quot;</span>,</span>
<span id="cb102-18"><a href="#cb102-18"></a>      memo<span class="op">$</span>Original[memo<span class="op">$</span>sentence_idx <span class="op">==</span><span class="st"> </span>.y<span class="op">$</span>sentence_idx <span class="op">&amp;</span><span class="st"> </span>memo<span class="op">$</span>D2 <span class="op">==</span><span class="st"> </span>.y<span class="op">$</span>D1 <span class="op">&amp;</span><span class="st"> </span>memo<span class="op">$</span>POS1 <span class="op">==</span><span class="st"> &quot;助詞&quot;</span>],</span>
<span id="cb102-19"><a href="#cb102-19"></a>      <span class="dt">collapse =</span> <span class="st">&quot; &quot;</span></span>
<span id="cb102-20"><a href="#cb102-20"></a>    )) <span class="op">%&gt;%</span></span>
<span id="cb102-21"><a href="#cb102-21"></a><span class="st">    </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">chunk =</span> stringr<span class="op">::</span><span class="kw">str_c</span>(</span>
<span id="cb102-22"><a href="#cb102-22"></a>      <span class="st">&quot;&quot;</span>,</span>
<span id="cb102-23"><a href="#cb102-23"></a>      memo<span class="op">$</span>chunk[memo<span class="op">$</span>sentence_idx <span class="op">==</span><span class="st"> </span>.y<span class="op">$</span>sentence_idx <span class="op">&amp;</span><span class="st"> </span>memo<span class="op">$</span>D2 <span class="op">==</span><span class="st"> </span>.y<span class="op">$</span>D1 <span class="op">&amp;</span><span class="st"> </span>memo<span class="op">$</span>POS1 <span class="op">==</span><span class="st"> &quot;助詞&quot;</span>],</span>
<span id="cb102-24"><a href="#cb102-24"></a>      <span class="dt">collapse =</span> <span class="st">&quot; &quot;</span></span>
<span id="cb102-25"><a href="#cb102-25"></a>    ))) <span class="op">%&gt;%</span></span>
<span id="cb102-26"><a href="#cb102-26"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw">map_dfr</span>(<span class="op">~</span>.) <span class="op">%&gt;%</span></span>
<span id="cb102-27"><a href="#cb102-27"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(Original, collocation, chunk)</span>
<span id="cb102-28"><a href="#cb102-28"></a></span>
<span id="cb102-29"><a href="#cb102-29"></a>pattern</span></code></pre></div>
<pre><code>#&gt; # A tibble: 192 x 3
#&gt;    Original collocation chunk                                      
#&gt;    &lt;chr&gt;    &lt;chr&gt;       &lt;chr&gt;                                      
#&gt;  1 示す     に は で を 間に、 ジョエル・は プログラム中で パワーを
#&gt;  2 する     を          『パーセプトロン』を                       
#&gt;  3 示す     は て を    は 出版して 限界を                         
#&gt;  4 する     は を       アラン・は プログラミング言語を            
#&gt;  5 する     は を       は ルールベースシステムを                  
#&gt;  6 示す     を          パワーを                                   
#&gt;  7 呼ぶ     と          エキスパートシステムと                     
#&gt;  8 れる     と          エキスパートシステムと                     
#&gt;  9 ある     は も       これは、 ことも                            
#&gt; 10 する     を で       人工知能プロジェクトを 倫理面で            
#&gt; # ... with 182 more rows</code></pre>
</div>
<div id="機能動詞構文のマイニング" class="section level3" number="0.9.8">
<h3><span class="header-section-number">0.9.8</span> 47. 機能動詞構文のマイニング</h3>
<p>「サ変接続名詞 + を -&gt; 動詞」という表現だけを抽出すると、ここで解析した範囲には存在しないようなので、サ変接続名詞が含まれる文節すべてについてマイニングします。</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1"></a>memo &lt;-<span class="st"> </span>res <span class="op">%&gt;%</span></span>
<span id="cb104-2"><a href="#cb104-2"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(sentence_idx, chunk_idx) <span class="op">%&gt;%</span></span>
<span id="cb104-3"><a href="#cb104-3"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(</span>
<span id="cb104-4"><a href="#cb104-4"></a>    <span class="dt">chunk =</span> stringr<span class="op">::</span><span class="kw">str_c</span>(</span>
<span id="cb104-5"><a href="#cb104-5"></a>      word,</span>
<span id="cb104-6"><a href="#cb104-6"></a>      <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb104-7"><a href="#cb104-7"></a>    )</span>
<span id="cb104-8"><a href="#cb104-8"></a>  ) <span class="op">%&gt;%</span></span>
<span id="cb104-9"><a href="#cb104-9"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></span>
<span id="cb104-10"><a href="#cb104-10"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(sentence_idx, chunk_idx, D1, D2, POS1, POS2, Original, chunk)</span>
<span id="cb104-11"><a href="#cb104-11"></a></span>
<span id="cb104-12"><a href="#cb104-12"></a>pattern &lt;-<span class="st"> </span>memo <span class="op">%&gt;%</span></span>
<span id="cb104-13"><a href="#cb104-13"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(POS2 <span class="op">==</span><span class="st"> &quot;サ変接続&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb104-14"><a href="#cb104-14"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(sentence_idx, chunk_idx) <span class="op">%&gt;%</span></span>
<span id="cb104-15"><a href="#cb104-15"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">surface_form =</span> stringr<span class="op">::</span><span class="kw">str_c</span>(</span>
<span id="cb104-16"><a href="#cb104-16"></a>    chunk,</span>
<span id="cb104-17"><a href="#cb104-17"></a>    <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb104-18"><a href="#cb104-18"></a>  )) <span class="op">%&gt;%</span></span>
<span id="cb104-19"><a href="#cb104-19"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></span>
<span id="cb104-20"><a href="#cb104-20"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(sentence_idx, chunk_idx, D1) <span class="op">%&gt;%</span></span>
<span id="cb104-21"><a href="#cb104-21"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_map</span>(<span class="op">~</span><span class="st"> </span>.x <span class="op">%&gt;%</span></span>
<span id="cb104-22"><a href="#cb104-22"></a><span class="st">    </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">collocation =</span> stringr<span class="op">::</span><span class="kw">str_c</span>(</span>
<span id="cb104-23"><a href="#cb104-23"></a>      <span class="st">&quot;&quot;</span>,</span>
<span id="cb104-24"><a href="#cb104-24"></a>      memo<span class="op">$</span>Original[memo<span class="op">$</span>sentence_idx <span class="op">==</span><span class="st"> </span>.y<span class="op">$</span>sentence_idx <span class="op">&amp;</span><span class="st"> </span>memo<span class="op">$</span>D2 <span class="op">==</span><span class="st"> </span>.y<span class="op">$</span>D1 <span class="op">&amp;</span><span class="st"> </span>memo<span class="op">$</span>POS1 <span class="op">==</span><span class="st"> &quot;助詞&quot;</span>],</span>
<span id="cb104-25"><a href="#cb104-25"></a>      <span class="dt">collapse =</span> <span class="st">&quot; &quot;</span></span>
<span id="cb104-26"><a href="#cb104-26"></a>    )) <span class="op">%&gt;%</span></span>
<span id="cb104-27"><a href="#cb104-27"></a><span class="st">    </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">chunk =</span> stringr<span class="op">::</span><span class="kw">str_c</span>(</span>
<span id="cb104-28"><a href="#cb104-28"></a>      <span class="st">&quot;&quot;</span>,</span>
<span id="cb104-29"><a href="#cb104-29"></a>      memo<span class="op">$</span>chunk[memo<span class="op">$</span>sentence_idx <span class="op">==</span><span class="st"> </span>.y<span class="op">$</span>sentence_idx <span class="op">&amp;</span><span class="st"> </span>memo<span class="op">$</span>D2 <span class="op">==</span><span class="st"> </span>.y<span class="op">$</span>D1 <span class="op">&amp;</span><span class="st"> </span>memo<span class="op">$</span>POS1 <span class="op">==</span><span class="st"> &quot;助詞&quot;</span>],</span>
<span id="cb104-30"><a href="#cb104-30"></a>      <span class="dt">collapse =</span> <span class="st">&quot; &quot;</span></span>
<span id="cb104-31"><a href="#cb104-31"></a>    ))) <span class="op">%&gt;%</span></span>
<span id="cb104-32"><a href="#cb104-32"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw">map_dfr</span>(<span class="op">~</span>.) <span class="op">%&gt;%</span></span>
<span id="cb104-33"><a href="#cb104-33"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(surface_form, collocation, chunk)</span>
<span id="cb104-34"><a href="#cb104-34"></a></span>
<span id="cb104-35"><a href="#cb104-35"></a>pattern</span></code></pre></div>
<pre><code>#&gt; # A tibble: 168 x 3
#&gt;    surface_form         collocation chunk                            
#&gt;    &lt;chr&gt;                &lt;chr&gt;       &lt;chr&gt;                            
#&gt;  1 プログラム中で       &quot;&quot;          &quot;&quot;                               
#&gt;  2 積分問題での         &quot;&quot;          &quot;&quot;                               
#&gt;  3 記号的推論の         &quot;で の&quot;     &quot;積分問題での 積分問題での&quot;      
#&gt;  4 出版して             &quot;を&quot;        &quot;『パーセプトロン』を&quot;           
#&gt;  5 プログラミング言語を &quot;&quot;          &quot;&quot;                               
#&gt;  6 開発した。           &quot;は を&quot;     &quot;アラン・は プログラミング言語を&quot;
#&gt;  7 医学的診断と         &quot;&quot;          &quot;&quot;                               
#&gt;  8 構築し、             &quot;は を&quot;     &quot;は ルールベースシステムを&quot;      
#&gt;  9 知識表現と           &quot;&quot;          &quot;&quot;                               
#&gt; 10 推論の               &quot;と&quot;        &quot;知識表現と&quot;                     
#&gt; # ... with 158 more rows</code></pre>
<ol start="48" style="list-style-type: decimal">
<li>名詞から根へのパスの抽出</li>
</ol>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1"></a>memo &lt;-<span class="st"> </span>res <span class="op">%&gt;%</span></span>
<span id="cb106-2"><a href="#cb106-2"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate_at</span>(<span class="kw">c</span>(<span class="st">&quot;D1&quot;</span>, <span class="st">&quot;D2&quot;</span>), as.integer) <span class="op">%&gt;%</span></span>
<span id="cb106-3"><a href="#cb106-3"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(sentence_idx, chunk_idx) <span class="op">%&gt;%</span></span>
<span id="cb106-4"><a href="#cb106-4"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(</span>
<span id="cb106-5"><a href="#cb106-5"></a>    <span class="dt">chunk =</span> stringr<span class="op">::</span><span class="kw">str_c</span>(</span>
<span id="cb106-6"><a href="#cb106-6"></a>      word,</span>
<span id="cb106-7"><a href="#cb106-7"></a>      <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb106-8"><a href="#cb106-8"></a>    )</span>
<span id="cb106-9"><a href="#cb106-9"></a>  ) <span class="op">%&gt;%</span></span>
<span id="cb106-10"><a href="#cb106-10"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></span>
<span id="cb106-11"><a href="#cb106-11"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(sentence_idx, chunk_idx, D1, D2, POS1, Original, chunk) <span class="op">%&gt;%</span></span>
<span id="cb106-12"><a href="#cb106-12"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">distinct</span>(chunk, <span class="dt">.keep_all =</span> <span class="ot">TRUE</span>)</span>
<span id="cb106-13"><a href="#cb106-13"></a></span>
<span id="cb106-14"><a href="#cb106-14"></a>pattern &lt;-<span class="st"> </span>memo <span class="op">%&gt;%</span></span>
<span id="cb106-15"><a href="#cb106-15"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(POS1 <span class="op">==</span><span class="st"> &quot;名詞&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb106-16"><a href="#cb106-16"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(sentence_idx, chunk_idx) <span class="op">%&gt;%</span></span>
<span id="cb106-17"><a href="#cb106-17"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_map</span>(<span class="op">~</span><span class="st"> </span>.x <span class="op">%&gt;%</span></span>
<span id="cb106-18"><a href="#cb106-18"></a><span class="st">    </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">path =</span> stringr<span class="op">::</span><span class="kw">str_c</span>(</span>
<span id="cb106-19"><a href="#cb106-19"></a>      memo<span class="op">$</span>chunk[</span>
<span id="cb106-20"><a href="#cb106-20"></a>        memo<span class="op">$</span>sentence_idx <span class="op">==</span><span class="st"> </span>.y<span class="op">$</span>sentence_idx <span class="op">&amp;</span></span>
<span id="cb106-21"><a href="#cb106-21"></a><span class="st">          </span>memo<span class="op">$</span>chunk_idx <span class="op">&gt;=</span><span class="st"> </span>.y<span class="op">$</span>chunk_idx <span class="op">&amp;</span></span>
<span id="cb106-22"><a href="#cb106-22"></a><span class="st">          </span>(memo<span class="op">$</span>D2 <span class="op">&gt;</span><span class="st"> </span>.x<span class="op">$</span>D1 <span class="op">||</span><span class="st"> </span>memo<span class="op">$</span>D2 <span class="op">==</span><span class="st"> </span><span class="op">-</span>1L)</span>
<span id="cb106-23"><a href="#cb106-23"></a>      ],</span>
<span id="cb106-24"><a href="#cb106-24"></a>      <span class="dt">collapse =</span> <span class="st">&quot; -&gt; &quot;</span></span>
<span id="cb106-25"><a href="#cb106-25"></a>    ))) <span class="op">%&gt;%</span></span>
<span id="cb106-26"><a href="#cb106-26"></a><span class="st">  </span>purrr<span class="op">::</span><span class="kw">map_dfr</span>(<span class="op">~</span>.)</span>
<span id="cb106-27"><a href="#cb106-27"></a></span>
<span id="cb106-28"><a href="#cb106-28"></a>pattern <span class="op">%&gt;%</span></span>
<span id="cb106-29"><a href="#cb106-29"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(path) <span class="op">%&gt;%</span></span>
<span id="cb106-30"><a href="#cb106-30"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(path <span class="op">!=</span><span class="st"> &quot;&quot;</span>)</span></code></pre></div>
<pre><code>#&gt; # A tibble: 17 x 1
#&gt;    path                                                                             
#&gt;    &lt;chr&gt;                                                                            
#&gt;  1 年代と -&gt; 年代の -&gt; 間に、 -&gt; ジョエル・は -&gt; プログラム中で -&gt; 積分問題での -&gt; 記号的推論の -&gt; パワーを -&gt; 示した。 -&gt; と ~
#&gt;  2 相愛大学人文学部教授の -&gt; 釈徹宗は -&gt; 「哲学や -&gt; 思想や -&gt; 文学と、 -&gt; 宗教や -&gt; 霊性論との -&gt; 線引きも -&gt; 不明瞭になってきてい~
#&gt;  3 脳シミュレーションを -&gt; 行うには -&gt; 脳神経科学の -&gt; 知識も -&gt; 重要となる。       
#&gt;  4 日経新聞調べに -&gt; よると、 -&gt; 国別の -&gt; 研究論文数は -&gt; 位 -&gt; 米国、 -&gt; 位中国、 -&gt; 位インドで -&gt; 日本は -&gt; 位だった。~
#&gt;  5 ゲームのような -&gt; 仮想空間で -&gt; モデルを -&gt; 動かし -&gt; 現実世界の -&gt; ことを -&gt; 高速に -&gt; 学ばせるといった -&gt; 大きな -&gt; 成果を~
#&gt;  6 全体としても、 -&gt; 「」計画を通じて、 -&gt; 億ユーロが -&gt; 投じられる -&gt; 方向。       
#&gt;  7 世紀 -&gt; 初め、 -&gt; 動物の -&gt; 身体が -&gt; ただの -&gt; 複雑な -&gt; 機械であると -&gt; 提唱した -&gt; （機械論）。 -&gt; 年、 -&gt; 機械式計算~
#&gt;  8 プログラミング言語は -&gt; ほか -&gt; が -&gt; 広く -&gt; 使われている。                     
#&gt;  9 対談で -&gt; 須藤は -&gt; 「これまで -&gt; けっこう -&gt; 長時間 -&gt; 議論を -&gt; 行ってきました。 -&gt; おかげで、 -&gt; 意見の -&gt; 違いは -&gt; ~
#&gt; 10 年には -&gt; 非構造化データ形式の -&gt; 国際規格である -&gt; 提唱されたが、 -&gt; ここから -&gt; 上の -&gt; 非構造化データに対して、 -&gt; アプリケーショ~
#&gt; 11 東洋哲学を -&gt; 吸収させるという -&gt; 三宅陽一郎の -&gt; テーマに -&gt; 応じて、 -&gt; 井口尊仁は -&gt; 「鳥居（）」という -&gt; 自分の -&gt; プロジェ~
#&gt; 12 一部の -&gt; 科学者や -&gt; ハイテク企業の -&gt; 首脳らは、 -&gt; 軍事利用により -&gt; 世界の -&gt; 不安定化は -&gt; 加速すると -&gt; 主張している。 -~
#&gt; 13 ニューロ， -&gt; ファジィ， -&gt; という -&gt; 手法は、 -&gt; 従来の -&gt; 制御や、 -&gt; 対象を -&gt; 数式で -&gt; 客観的に -&gt; モデル化する -&gt; ~
#&gt; 14 年の -&gt; 発明と、 -&gt; 年以降の -&gt; ビッグデータ収集環境の -&gt; 整備、 -&gt; 計算資源と -&gt; 高性能化により、 -&gt; 画像処理コンテストで -&gt; 他~
#&gt; 15 人工知能                                                                         
#&gt; 16 これらを -&gt; 統合した -&gt; 知的システムを -&gt; 作る -&gt; 試みも -&gt; なされている。 -&gt; では、 -&gt; エキスパートの -&gt; 推論ルールを、 -&gt; ~
#&gt; 17 中国の -&gt; 社会信用システムに -&gt; 代表されるような、 -&gt; 人工知能で -&gt; ビッグデータを -&gt; 活用して -&gt; 人々の -&gt; 適性を -&gt; 決める -~</code></pre>
<ol start="49" style="list-style-type: decimal">
<li>名詞間の係り受けパスの抽出</li>
</ol>
<p>省略</p>

</div>
</div>
<div id="session-info" class="section level2" number="0.10">
<h2><span class="header-section-number">0.10</span> Session Info</h2>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1"></a>sessioninfo<span class="op">::</span><span class="kw">session_info</span>()</span></code></pre></div>
<pre><code>#&gt; - Session info -------------------------------------------------------------------
#&gt;  setting  value                       
#&gt;  version  R version 4.0.3 (2020-10-10)
#&gt;  os       Windows 10 x64              
#&gt;  system   x86_64, mingw32             
#&gt;  ui       RStudio                     
#&gt;  language (EN)                        
#&gt;  collate  Japanese_Japan.932          
#&gt;  ctype    Japanese_Japan.932          
#&gt;  tz       Asia/Tokyo                  
#&gt;  date     2021-01-16                  
#&gt; 
#&gt; - Packages -----------------------------------------------------------------------
#&gt;  ! package        * version    date       lib
#&gt;  P assertthat       0.2.1      2019-03-21 [?]
#&gt;  P backports        1.2.1      2020-12-09 [?]
#&gt;  P bookdown         0.21       2020-10-13 [?]
#&gt;  P broom          * 0.7.3      2020-12-16 [?]
#&gt;  P class            7.3-17     2020-04-26 [?]
#&gt;  P cli              2.2.0      2020-11-20 [?]
#&gt;  P codetools        0.2-16     2018-12-24 [?]
#&gt;  P colorspace       2.0-0      2020-11-11 [?]
#&gt;  P crayon           1.3.4      2017-09-16 [?]
#&gt;  P data.table       1.13.6     2020-12-30 [?]
#&gt;  P dials          * 0.0.9      2020-09-16 [?]
#&gt;  P DiceDesign       1.8-1      2019-07-31 [?]
#&gt;  P digest           0.6.27     2020-10-24 [?]
#&gt;    dplyr          * 1.0.2      2020-08-18 [1]
#&gt;  P ellipsis         0.3.1      2020-05-15 [?]
#&gt;  P evaluate         0.14       2019-05-28 [?]
#&gt;  P fansi            0.4.1      2020-01-08 [?]
#&gt;  P farver           2.0.3      2020-01-16 [?]
#&gt;    flatxml          0.1.1      2020-12-01 [1]
#&gt;  P foreach          1.5.1      2020-10-15 [?]
#&gt;    furrr            0.2.1      2020-10-21 [1]
#&gt;    future           1.21.0     2020-12-10 [1]
#&gt;    generics         0.1.0      2020-10-31 [1]
#&gt;  P ggplot2        * 3.3.3      2020-12-30 [?]
#&gt;    globals          0.14.0     2020-11-22 [1]
#&gt;  P glue             1.4.2      2020-08-27 [?]
#&gt;  P gower            0.2.2      2020-06-23 [?]
#&gt;  P GPfit            1.0-8      2019-02-08 [?]
#&gt;  P gtable           0.3.0      2019-03-25 [?]
#&gt;    hms              1.0.0      2021-01-13 [1]
#&gt;  P htmltools        0.5.1      2021-01-12 [?]
#&gt;  P httr             1.4.2      2020-07-20 [?]
#&gt;    igraph           1.2.6      2020-10-06 [1]
#&gt;  P infer          * 0.5.4      2021-01-13 [?]
#&gt;  P ipred            0.9-9      2019-04-28 [?]
#&gt;  P iterators        1.0.13     2020-10-15 [?]
#&gt;  P jsonlite         1.7.2      2020-12-09 [?]
#&gt;  P knitr            1.30       2020-09-22 [?]
#&gt;  P labeling         0.4.2      2020-10-20 [?]
#&gt;  P lattice          0.20-41    2020-04-02 [?]
#&gt;  P lava             1.6.8.1    2020-11-04 [?]
#&gt;  P lhs              1.1.1      2020-10-05 [?]
#&gt;  P lifecycle        0.2.0      2020-03-06 [?]
#&gt;    listenv          0.8.0      2019-12-05 [1]
#&gt;  P lubridate        1.7.9.2    2020-11-13 [?]
#&gt;  P magrittr       * 2.0.1      2020-11-17 [?]
#&gt;  P MASS             7.3-53     2020-09-09 [?]
#&gt;  P Matrix           1.2-18     2019-11-27 [?]
#&gt;  P microbenchmark   1.4-7      2019-09-24 [?]
#&gt;  P modeldata      * 0.1.0      2020-10-22 [?]
#&gt;  P munsell          0.5.0      2018-06-12 [?]
#&gt;  P nnet             7.3-14     2020-04-26 [?]
#&gt;    parallelly       1.23.0     2021-01-04 [1]
#&gt;  P parsnip        * 0.1.4      2020-10-27 [?]
#&gt;  P pillar           1.4.7      2020-11-20 [?]
#&gt;    pipian         * 0.2.3-2    2021-01-16 [1]
#&gt;  P pkgconfig        2.0.3      2019-09-22 [?]
#&gt;  P plyr             1.8.6      2020-03-03 [?]
#&gt;  P pROC             1.17.0.1   2021-01-13 [?]
#&gt;  P prodlim          2019.11.13 2019-11-17 [?]
#&gt;  P purrr          * 0.3.4      2020-04-17 [?]
#&gt;  P R.cache          0.14.0     2019-12-06 [?]
#&gt;  P R.methodsS3      1.8.1      2020-08-26 [?]
#&gt;  P R.oo             1.24.0     2020-08-26 [?]
#&gt;  P R.utils          2.10.1     2020-08-26 [?]
#&gt;  P R6               2.5.0      2020-10-28 [?]
#&gt;  P rappdirs         0.3.1      2016-03-28 [?]
#&gt;  P Rcpp             1.0.5      2020-07-06 [?]
#&gt;    RcppKagome     * 0.0.0.400  2021-01-15 [1]
#&gt;    readr            1.4.0      2020-10-05 [1]
#&gt;  P readtext         0.80       2020-09-22 [?]
#&gt;  P recipes        * 0.1.15     2020-11-11 [?]
#&gt;    renv             0.12.5     2021-01-09 [1]
#&gt;  P reticulate     * 1.18       2020-10-25 [?]
#&gt;  D rJava            0.9-13     2020-07-06 [1]
#&gt;    rjavacmecab    * 0.1.8      2021-01-15 [1]
#&gt;  P rlang            0.4.10     2020-12-30 [?]
#&gt;  P rmarkdown        2.6        2020-12-14 [?]
#&gt;    RMeCab         * 1.06       2021-01-11 [1]
#&gt;  P rpart            4.1-15     2019-04-12 [?]
#&gt;  P rsample        * 0.0.8      2020-09-23 [?]
#&gt;  P rstudioapi       0.13       2020-11-12 [?]
#&gt;    rvest            0.3.6      2020-07-25 [1]
#&gt;  P scales         * 1.1.1      2020-05-11 [?]
#&gt;  P sessioninfo      1.1.1      2018-11-05 [?]
#&gt;  P stringi          1.5.3      2020-09-09 [?]
#&gt;  P stringr          1.4.0      2019-02-10 [?]
#&gt;  P styler           1.3.2      2020-02-23 [?]
#&gt;  P sudachir       * 0.1.0      2020-11-10 [?]
#&gt;  P survival         3.2-7      2020-09-28 [?]
#&gt;    tangela        * 0.0.4-4    2021-01-15 [1]
#&gt;  P textrecipes    * 0.4.0      2020-11-12 [?]
#&gt;  P tibble         * 3.0.4      2020-10-12 [?]
#&gt;  P tidymodels     * 0.1.2      2020-11-22 [?]
#&gt;    tidyr          * 1.1.2      2020-08-27 [1]
#&gt;    tidyselect       1.1.0      2020-05-11 [1]
#&gt;  P timeDate         3043.102   2018-02-21 [?]
#&gt;  P tune           * 0.1.2      2020-11-17 [?]
#&gt;  P utf8             1.1.4      2018-05-24 [?]
#&gt;  P vctrs            0.3.6      2020-12-17 [?]
#&gt;  P withr            2.3.0      2020-09-22 [?]
#&gt;  P workflows      * 0.2.1      2020-10-08 [?]
#&gt;  P xfun             0.20       2021-01-06 [?]
#&gt;  P xml2             1.3.2      2020-04-23 [?]
#&gt;  P yaml             2.2.1      2020-02-01 [?]
#&gt;  P yardstick      * 0.0.7      2020-07-13 [?]
#&gt;  source                                  
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  Github (paithiov909/pipian@80b97e7)     
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  Github (paithiov909/RcppKagome@c1ae259) 
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  Github (paithiov909/rjavacmecab@3210ded)
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  local                                   
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  Github (paithiov909/tangela@2a23e1c)    
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.0)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.3)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt;  CRAN (R 4.0.0)                          
#&gt;  CRAN (R 4.0.2)                          
#&gt; 
#&gt; [1] C:/Users/user/Documents/GitHub/nlp100-knocks-r/renv/library/R-4.0/x86_64-w64-mingw32
#&gt; [2] C:/Users/user/AppData/Local/Temp/Rtmpc9SyMU/renv-system-library
#&gt; 
#&gt;  P -- Loaded and on-disk path mismatch.
#&gt;  D -- DLL MD5 mismatch, broken installation.</code></pre>
</div>
<div id="references" class="section level2 unnumbered" number="">
<h2>References</h2>

</div>
            </section>

          </div>
        </div>
      </div>


    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["nlp100-knocks-r.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
